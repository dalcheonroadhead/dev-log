# 1. Quick ì •ë ¬ì€ ë¬´ì—‡ì¸ê°€? 

`Pivot(ì¤‘ì¶”)`ì´ ë˜ëŠ” ê°’ì„ í•˜ë‚˜ ì„ ì •í•´ì„œ ê·¸ ê°’ë³´ë‹¤ ì‘ì€ ê°’ì€ ì™¼ìª½ìœ¼ë¡œ, í° ê°’ì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ëª¨ì€ë‹¤. ì´ì œ ë‚˜ëˆ ì§„ ë‘ ê·¸ë£¹ ë‚´ì—ì„œ ë‹¤ì‹œ Pivotì„ ì„ ì •í•˜ê³  ì´ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤. ê°’ì„ **ë” ì´ìƒ ìª¼ê°¤ ìˆ˜ ì—†ì„ ë•Œ**ê¹Œì§€ ë°˜ë³µí•˜ë©´ ëª¨ë“  ê°’ì´ ì •ë ¬ë˜ì–´ ìˆë‹¤.

# 2. ì›ë¦¬

ë³‘í•©ì •ë ¬ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë¶„í•  ì •ë³µì„ í™œìš©í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì˜ˆì‹œì´ë‹¤. ë³‘í•© ì •ë ¬ì—ì„œëŠ” **ì„  ë¶„í•  í›„ ì •ë³µ** ì´ì—ˆë‹¤ë©´, quick ì •ë ¬ì€ **ì„  ì •ë³µ, í›„ ë¶„í• ** í˜•ì‹ì´ë¼ ìƒê°í•˜ë©´ ë˜ê² ë‹¤.

ì •ë³µì—ëŠ” **ë§ˆì£¼ë³´ëŠ” íˆ¬ í¬ì¸í„°**ê°€ í™œìš©ëœë‹¤. ì–´ë–»ê²Œ ì“°ì´ëŠ”ì§€ëŠ” ë°‘ì˜ ì˜ˆì‹œì—ì„œ ìì„¸íˆ ì„¤ëª…í•˜ê² ë‹¤.



- (1) Pivot ì •í•˜ê¸° (ì •í•˜ëŠ” ë°©ì‹ì€ ë•Œì— ë§ê²Œ ììœ )
- (2) Pivotë³´ë‹¤ í° ê°’ì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ëª°ê¸°, ì‘ê±°ë‚˜ ê°™ì€ ê°’ì€ ì™¼ìª½ìœ¼ë¡œ ëª°ê¸° (ì •ë³µ by `íˆ¬ í¬ì¸í„°`)
- (3) ë‚˜ëˆ ì§„ ë‘ ê·¸ë£¹ì— ëŒ€í•´ì„œ ì¬ê·€ë¥¼ í™œìš©í•´ (1),(2)ë²ˆ ë‹¤ì‹œ ì§„í–‰ - ë” ì´ìƒ ì¬ê·€í•  ìˆ˜ ì—†ì„ ë•Œê¹Œì§€ (ë¶„í•  by `ì¬ê·€`)

.

(2)ë²ˆì„ ì¢€ ë” ì„¸ì„¸í•˜ê²Œ ì„¤ëª…í•˜ë©´,

`L(ì™¼ìª½)`í¬ì¸í„°, `R(ì˜¤ë¥¸ìª½)` í¬ì¸í„°ê°€ ìˆì„ ë•Œ, 

- (2-1) `L` í¬ì¸í„°ëŠ” pivotë³´ë‹¤ ì‘ì€ ê°’ì„ ë§Œë‚˜ë©´ í•œ ì¹¸ ì „ì§„, ê·¸ ì™¸ì˜ ê²½ìš° ê·¸ ìœ„ì¹˜ì—ì„œ ê¸°ë‹¤ë¦¼.
- (2-2) `R`  í¬ì¸í„°ëŠ” pivotë³´ë‹¤ í° ê°’ì„ ë§Œë‚˜ë©´ í•œ ì¹¸ ì „ì§„, ê·¸ì™¸ì˜ ê·¸ ìœ„ì¹˜ì—ì„œ ê¸°ë‹¤ë¦¼.
- (2-3) ë‘ í¬ì¸í„° ëª¨ë‘ `ê¸°ë‹¤ë¦¼` ìƒíƒœë¼ë©´ ë‘˜ì˜ valueë¥¼ ìë¦¬ êµì²´
- (2-4) êµì²´ í›„ì—ëŠ” ë‘˜ ë‹¤ í•œ ì¹¸ì”© ì „ì§„!!
- (2-5) ì´ í–‰ìœ„ë¥¼ **ë‘ í¬ì¸í„°ê°€ ì—‡ê°ˆë¦´ ë•Œê¹Œì§€ ë°˜ë³µ**

# 3. ì˜ˆì‹œ

![image-20241231150936179](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20241231150936179.png)

pivot ê°’ì„ index = 4ì¸ `6`ìœ¼ë¡œ ì •í•´ë³´ì. ì¤‘ì•™ì˜ ê°’ìœ¼ë¡œ ì •í•´ì„œ ë”°ë¡œ ê°’ì„ ì¤‘ì•™ì— ìœ„ì¹˜ì‹œí‚¬ í•„ìš”ëŠ” ì—†ë‹¤.

![image-20241231151033574](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20241231151033574.png)

ì´ì œ ë§ˆì£¼ë³´ëŠ” íˆ¬ í¬ì¸í„°ë¥¼ ì„¤ì •í•œë‹¤.

![image-20241231151156712](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20241231151156712.png)

`index = 0`ì˜ ê°’ì€ 1ë¡œ 6ë³´ë‹¤ ì‘ë‹¤. ë”°ë¼ì„œ ì™¼ìª½ í¬ì¸í„°ëŠ” í•œ ì¹¸ ì „ì§„í•œë‹¤. ë°˜ë©´ ì˜¤ë¥¸ìª½ í¬ì¸í„°ê°€ ê°€ë¥´í‚¤ëŠ” `index = 9`ì˜ ê°’ì€ 3ìœ¼ë¡œ 6ë³´ë‹¤ ì‘ë‹¤. ì´ë•Œ ì˜¤ë¥¸ìª½ í¬ì¸í„°ëŠ” **Switching í•  ê°’ì„ ë§Œë‚  ë•Œê¹Œì§€ ëŒ€ê¸°**í•´ì•¼í•œë‹¤.

 ![image-20241231151324732](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20241231151324732.png)

ì™¼ìª½ í¬ì¸í„°ê°€ ê°€ë¥´í‚¤ëŠ” ê°’ì´ 7ë¡œ 6ë³´ë‹¤ í¬ë‹¤. ë”°ë¼ì„œ ì˜¤ë¥¸ìª½ í¬ì¸í„°ì˜ 3ê³¼ ê°’ì„ `switching` í•´ì¤€ë‹¤. 

![image-20241231152251607](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20241231152251607.png)

ì´ëŸ° ì‹ìœ¼ë¡œ **ë‘ í¬ì¸í„°ê°€ ë§Œë‚  ë•Œê¹Œì§€** ë°˜ë³µí•œë‹¤.

![image-20241231152907201](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20241231152907201.png)

![image-20250102221137549](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20250102221137549.png)

![image-20250102221202424](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20250102221202424.png)

L í¬ì¸í„°ê°€ ê°€ë¦¬í‚¤ëŠ” ê°’ì€ `pivot: 6`ê³¼ í¬ê¸°ê°€ ë™ì¼í•œ ê°’ì„ìœ¼ë¡œ ì •ì§€ìƒíƒœ, R í¬ì¸í„°ê°€ ê°€ë¦¬í‚¤ëŠ” ê°’ì€ pivotë³´ë‹¤ ê°’ì´ ì‘ìŒìœ¼ë¡œ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ. ì„œë¡œ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœë¼ì„œ ìë¦¬êµì²´ (ìë¦¬ êµì²´ í›„ì—ëŠ” ëª¨ë‘ í•œ ì¹¸ ì „ì§„!)

![image-20250102221447239](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20250102221447239.png)

![image-20250102221503103](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20250102221503103-1735823704264-1.png)

![image-20250102221521627](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20250102221521627.png)

![image-20250102221544520](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20250102221544520.png)

ë‘ í¬ì¸í„°ê°€ ì—‡ê°ˆë ¸ìŒìœ¼ë¡œ í˜„ ë°˜ë³µë¬¸ ì¢…ë£Œ ì´í›„ ë¶„í• ì€ `START - R`, `L - END` ë‘ê°œë¡œ ë‚˜ëˆ ì„œ í•œë‹¤.

![image-20250102221708507](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/018_í€µ_ì •ë ¬/image-20250102221708507.png)

### Pivotì´ ë‹¤ìŒ ì •ë ¬ ê·¸ë£¹ ì•ˆì— í¬í•¨ë˜ì–´ë„ ê´œì°®ë‚˜ìš”? ğŸ¤”

ìœ„ì˜ ì˜ˆì‹œë¥¼ ë³´ë©´ Pivotì´ ìì‹ ë³´ë‹¤ í° ê°’ë“¤ì´ ì†í•˜ëŠ” ê·¸ë£¹ì— ë“¤ì–´ê°€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ì²˜ëŸ¼ **`PIVOT`ì€ ì™¼ìª½ ê·¸ë£¹ì—ì„œëŠ” ì œì¼ í° ê°’, ì˜¤ë¥¸ìª½ ê·¸ë£¹ì—ì„œëŠ” ì œì¼ ì‘ì€ ê°’ìœ¼ë¡œ ë‹¤ìŒ ì •ë ¬ì— ì°¸ì—¬í•˜ê²Œ ë˜ë¯€ë¡œ ì „ì²´ ì •ë ¬ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.**

ë§Œì•½ í€µ ì •ë ¬ì„ ì ìš©í•´ì•¼ í•˜ëŠ” ë¬¸ì œë¥¼ í’€ ë•Œ, PIVOTì´ ì •ë ¬ì— í¬í•¨ë¨ì— ë”°ë¼ ì½”ë“œ ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤ê³  ìƒê°í•œë‹¤ë©´, **`PIVOT`ì„ ìµœì¢Œë‹¨ìœ¼ë¡œ ëº´ë‘ëŠ” ë°©ì‹**ì„ í™œìš©í•˜ë©´ ëœë‹¤. í•´ë‹¹ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰ëœë‹¤.



- (1) PIVOTì€ ì„ ì • í›„, í•­ìƒ ìµœì¢Œë‹¨ ê°’ê³¼ ìë¦¬ êµì²´í•¨
- (2) ì •ë ¬ì€ ë˜‘ê°™ì´ ì§„í–‰
- (3) ì •ë ¬ì´ ëë‚œ í›„, R í¬ì¸í„°ê°€ ê°€ë¥´í‚¤ëŠ” ê°’ê³¼ Pivotì„ êµì²´ (**PIVOTì„ ì •ë ¬ëœ ê·¸ë£¹ì˜ ê°€ìš´ë°ì— ìœ„ì¹˜**)
- (4) Pivot ì œì™¸í•˜ê³ , ê° ê·¸ë£¹ì—ì„œ ì¬ê·€ë¥¼ í™œìš©í•œ ì •ë ¬ ì¬ ì§„í–‰



í•´ë‹¹ ë°©ì‹ì˜ ì½”ë“œ ë˜í•œ ë°‘ì— ë”°ë¡œ ì ì–´ë‘ê² ë‹¤.

# 4. ì½”ë“œ

## (1) PIVOT í¬í•¨ ì •ë ¬

```java
import java.io.*;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.StringTokenizer;


public class Main {

    static int [] arr = new int [] {1,7,5,4,6,9,8,10,2,3};
    static int [] tmp = new int [10];
    public static void main(String[] args) throws IOException {
        quick_sort(0, 9, 0);

        System.out.println(Arrays.toString(arr));
    }

    public static void quick_sort (int start, int end, int depth) {
        // 0. ê¸°ì € ì¡°ê±´
        if(start >= end) return;
        // 1. ì •ë³µ by íˆ¬ í¬ì¸í„°
        int pivot_index = start + (end - start)/2;
        int pivot = arr[pivot_index];


        int L = start;
        int R = end;

        while (L <= R){
            while (arr[L] < pivot){
                L++;
            }
            while (arr[R] > pivot){
                R--;
            }
            
            if(L <= R){ // == ì²˜ë¦¬ ì•ˆí•˜ë©´ ì˜ì›íˆ ë‘ í¬ì¸í„°ê°€ ì—‡ê°ˆë¦¬ì§€ ì•ŠëŠ” ê²½ìš°ì˜ ìˆ˜ê°€ ìƒê¹€
                int tmp = arr[L];
                arr[L] = arr[R];
                arr[R] = tmp;
                L++;    R--;
            }
        }

        System.out.println("depth-" + depth  + ": " + Arrays.toString(arr) + " / [[ pivot: " + pivot + " start: "+ start + " end: " + end + "]]");

        // 2. ë¶„í•  by ì¬ê·€
        quick_sort(start, R, depth+1);
        quick_sort(L, end, depth+1);
    }
}
```

## (2) PIVOTì€ ì •ë ¬ì—ì„œ ì œì™¸

```java
    private static void quick_sort (int start, int end) {
       // 0. ê¸°ì € ì¡°ê±´
        if(end - start == 1){
            swap(start, end);
        }
        if(start >= end) return;
        // 1. ë³¸ê³„ì‚°
        int pivot = start + (end - start)/2;
        int pivot_value = arr[pivot];
        swap(pivot, start);                 // pivotì„ ìµœì¢Œë‹¨ìœ¼ë¡œ ëª°ì•„ì„œ ê³„ì‚°ì— ì˜í–¥ ì•ˆ ì£¼ê¸°
        int L = start+1; int R = end;
        while (L <= R) {
            while (L <= end && arr[L] < pivot_value) L++;	// ì›ë˜ëŠ” ì¤‘ê°„ì— pivotì´ ìˆì–´ì„œ L, R í¬ì¸í„°ê°€ ê·¹ë‹¨ê¹Œì§€ ì•ˆ ê°€ê³  ë¬´ì¡°ê±´ ë©ˆì·„ì§€ë§Œ, ì´ì   ê·¸ëŸ° ë¸Œë ˆì´í¬ê°€ ì¡´ì¬í•˜ì§€ ì•Šê¸°ì—, ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ì§€ ì•Šë„ë¡ ì¡°ì¹˜í•´ì¤˜ì•¼ í•¨.
            while (R >= 0 && arr[R] > pivot_value) R--;
            if(L <= R) {
                swap(L,R);
                L++; R--;
            }
        }
        swap(start, R);
        // pivot ì œì™¸ ë¶„í•  ë° ì¬ì •ë³µ
        quick_sort(start, R-1);
        quick_sort(L, end);
    }

    private static void swap(int i, int j) {
        int tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }
```

