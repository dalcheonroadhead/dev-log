# 1. ë¬¸ì œ ì„¤ëª… ğŸ“Œ

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/1561)

# 2. êµ¬í˜„ ë°©ë²• ğŸ—ƒï¸

**`KEY WORD`: `BINARY_SEARCH`, `PARAMETRIC_SEARCH`**

**`N`**: ë†€ì´ê¸°êµ¬ íƒ€ëŠ” ì•„ì´ ìˆ˜, **`M`**: ë†€ì´ê¸°êµ¬ ìˆ˜, **`rids[]`** = ë†€ì´ê¸°êµ¬ ë³„ ê±¸ë¦¬ëŠ” ì‹œê°„, 
**`minimum_time`**: ì• ë“¤ ì „ë¶€ ë†€ì´ê¸°êµ¬ì— íƒœìš°ëŠ” ìµœì†Œ ì‹œê°„, 
**`remained_kid`**: (`minimum_time` -1 ) ì‹œê°„ì— ì•„ì§ ë†€ì´ê¸°êµ¬ ëª» íƒ€ê³  ë‚¨ì•„ìˆëŠ” ì•„ì´ë“¤ì˜ ìˆ˜

- 0ï¸âƒ£ `ì‚¬ëŒ ìˆ˜` < `ë†€ì´ê¸°êµ¬ ìˆ˜` ì´ë©´, ë§ˆì§€ë§‰ ì‚¬ëŒì˜ ë²ˆí˜¸ê°€ ê³§ ë†€ì´ê¸°êµ¬ì˜ ìˆ˜ ì´ë¯€ë¡œ `N` ì¶œë ¥ í›„ í”„ë¡œê·¸ë¨ ì¢…ë£Œ
- 1ï¸âƒ£ ì•„ì´ë“¤ì„ ë‹¤ íƒœìš¸ ìˆ˜ ìˆëŠ” ìµœì†Œ ì‹œê°„ ì°¾ê¸° (`minimum_time`)  
- 2ï¸âƒ£`minimum_time` 1ë¶„ ì „ ì‹œì ê¹Œì§€ ì•„ì§ ë†€ì´ê¸°êµ¬ ëª» íƒ„ ì•„ì´ë“¤ì´ ëª‡ ëª…ì¸ì§€ ì°¾ê¸° (`remained_kid`)
- 3ï¸âƒ£ `rids[]`ë¥¼ ëŒë©°, (**`rides[]`% `minimum_time` == 0**)ì¸ ë†€ì´ê¸°êµ¬ë¥¼ ë§Œë‚  ë•Œë§ˆë‹¤ `remained_kid` --
- 4ï¸âƒ£ `remained_kid` = 0 ì¸ ëœ ì‹œì ì˜ ride[] ë²ˆí˜¸ê°€ ê³§ ë‹µ

## (1) í•´ì„¤

### 1ï¸âƒ£ Kë¶„ì— ì•„ì´ë“¤ì´ ëˆ„ì  ëª‡ ëª… ë†€ì´ê¸°êµ¬ì— íƒ”ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•âœ¨

ë‹¤ìŒì€ ë¬¸ì œ ì˜ˆì œ 3ë²ˆ `ì•„ì´ ìˆ˜: 22, ë†€ì´ê¸°êµ¬ ìˆ˜: 5, ê°ê° ê±¸ë¦¬ëŠ” ì‹œê°„: [1,2,3,4,5]`ì— ëŒ€í•œ í‘œì´ë‹¤. ì‹œê°„ ë‹¨ìœ„ë¥¼ **ë¶„**ìœ¼ë¡œ ë†“ì•˜ì„ ë•Œ, ê° ì‹œê°„ë§ˆë‹¤ ë†€ì´ê¸°êµ¬ì— íƒ”ìœ¼ë©´ `.`ìœ¼ë¡œ í‘œì‹œí–ˆë‹¤.

![image-20250120005010132](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 1561 ë†€ì´ê³µì›/image-20250120005010132.png)

0ë¶„ì§¸ëŠ” ëª¨ë“  ë†€ì´ê¸°êµ¬ì— ë‹¤ íƒ„ë‹¤. **0ë¶„ì§¸ íƒ„ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³  ë³´ë©´**,  **ë†€ì´ê¸°êµ¬ iì˜ Kë¶„ ëˆ„ì  ì†ë‹˜ì€ K/ë†€ì´ê¸°êµ¬ ê±¸ë¦¬ëŠ” ì‹œê°„** ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 1ë²ˆ ë†€ì´ê¸°êµ¬ëŠ” 1ë¶„ë§ˆë‹¤ íƒˆ ìˆ˜ ìˆëŠ”ë°, 8ë¶„ì§¸ì— ì´ 8ëª…ì´ ëˆ„ì í•´ì„œ íƒ„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 4ë²ˆ ë†€ì´ê¸°êµ¬ëŠ” 8ë¶„ì§¸ì— ì´ 2ë¶„ì´ íƒ”ë‹¤. 
  ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ **0ë¶„ì§¸ íƒ„ ê²½ìš°ëŠ” ì œì™¸í•œë‹¤**ëŠ” ê²ƒì´ë‹¤. ë§Œì•½ í•´ë‹¹ ê²½ìš°ë„ ëˆ„ì ì— í¬í•¨ì‹œí‚¤ë©´ ë§¤ ê³„ì‚°ë§ˆë‹¤ + 1ì„ í•´ì¤˜ì•¼ í•´ì„œ ë²ˆê±°ë¡­ë‹¤. ë”°ë¼ì„œ í•„ìë„ **0ë¶„ì§¸ íƒ„ ì¸ì› ìˆ˜ëŠ” ë¯¸ë¦¬ ì œí•˜ê³  ê³„ì‚°í•  ì˜ˆì •**ì´ë‹¤.

### 2ï¸âƒ£ ëª¨ë“  ì–´ë¦°ì´ê°€ ë‹¤ íƒˆ ìˆ˜ ìˆëŠ” ìµœì†Œ ì‹œê°„ ì°¾ê¸°

ìš°ë¦¬ëŠ” ì´ì œ Kë¶„ì— ì†ë‹˜ì´ ëˆ„ì í•´ì„œ ì–¼ë§ˆë‚˜ íƒ”ëŠ”ì§€ **í•œ ë²ˆì˜ Loop**ë¡œ ì•Œ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì´ì œ `Parametric Search` ì ‘ê·¼ ë°©ë²•ì„ í™œìš©í•´ **ìµœì í™” ë¬¸ì œ**ë¥¼ **ì—¬ëŸ¬ ê°œì˜ ê²°ì • ë¬¸ì œ**ë¡œ ë°”ê¿€ ì‹œê°„ì´ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¾¸ë©´ ëœë‹¤.

`Nëª…ì´ ì „ë¶€ íƒ€ëŠ” ìµœì†Œ ì‹œê°„ êµ¬í•˜ê¸°`  âœ `mid ë¶„ì— ëª¨ë“  ì•„ì´ë“¤ì´ ë†€ì´ê¸°êµ¬ì— íƒˆ ìˆ˜ ìˆëŠ”ê°€? (f(d))`

ê²°ì • ë¬¸ì œì¸ `f(d)`ëŠ” í•´ì„¤ 1ï¸âƒ£ì—ì„œ êµ¬í–ˆìŒìœ¼ë¡œ ì´ì œ, ì´ë¥¼ ì´ìš©í•´ **ì´ë¶„ íƒìƒ‰**ì„ í•˜ì—¬ `f(d)` = `true`ì¸ ê°’ ì¤‘ ì œì¼ ì™¼ìª½ì— ìˆëŠ” ê°’ì„ ì°¾ìœ¼ë©´ ëœë‹¤.

### 3ï¸âƒ£ `remained_kid` êµ¬í•˜ëŠ” ì´ìœ 

í•´ë‹¹ ë¬¸ì œê°€ `ê³¨ë“œ 1`ì¸ ì´ìœ ëŠ” ìµœì†Œ ì‹œê°„ ìì²´ë¥¼ êµ¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **ë§ˆì§€ë§‰ìœ¼ë¡œ íƒ€ëŠ” ë†€ì´ê¸°êµ¬ì˜ ë²ˆí˜¸ë¥¼ êµ¬í•˜ë„ë¡** í•œ ë²ˆ ë” ê¼¬ì•˜ê¸° ë•Œë¬¸ì´ë‹¤. `remained_kid`ëŠ” ì´ë¥¼ ìœ„í•´ í•„ìš”í•˜ë‹¤. ë§ˆì§€ë§‰ ë†€ì´ê¸°êµ¬ ë²ˆí˜¸ë¥¼ êµ¬í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. 

- â¶ ëª¨ë“  ì•„ì´ë“¤ì´ ì „ë¶€ íƒ€ëŠ” ìµœì†Œ ì‹œê°„ì„ `k`ë¼ê³  í–ˆì„ ë•Œ, `k-1`ë¶„ì— ëª» íƒ€ëŠ” ì•„ì´ë“¤ êµ¬í•˜ê¸° (ì´ ì• ë“¤ì€ `K`ë¶„ì— íƒ€ëŠ” ì• ë“¤ì„)
- â· ì´ì œ  `remained_kid`ë¥¼ í•œ ëª…ì”© íƒœìš°ë©° **ë§ˆì§€ë§‰ ë†€ì´ê¸°êµ¬ ë²ˆí˜¸ë¥¼ êµ¬í•œë‹¤.**

### 4ï¸âƒ£ Kë¶„ì— í•´ë‹¹ ë†€ì´ê¸°êµ¬ê°€ ë¹„ì—ˆëŠ”ì§€ ì–´ì¼€ ì•? 

ì•„ê¹Œ ìš°ë¦¬ê°€ ë§¤ ë¶„ë§ˆë‹¤ ì•„ì´ë“¤ì„ ë†€ì´ê¸°êµ¬ì— íƒœì› ì„ ë•Œë¥¼ ê¸°ì–µí•˜ëŠ”ê°€? 2ë¶„ë§ˆë‹¤ ë¹„ëŠ” ë†€ì´ê¸°êµ¬ëŠ” 2,4,6ë¶„ì— íƒœì› ê³ , 3ë¶„ ë§ˆë‹¤ ë¹„ëŠ” ë†€ì´ê¸°êµ¬ëŠ” 3,6ì— íƒœì› ë‹¤. ì´ ë†€ì´ê¸°êµ¬ëŠ” ë¶„ëª… 9ë¶„ì—ë„ ë¹„ì–´ìˆì„ ê²ƒì´ë‹¤. ì¦‰ í˜„ì¬ë¥¼ kë¶„ì´ë¼ í•˜ë©´**k/ë†€ì´ê¸°êµ¬ì˜ ê±¸ë¦¬ëŠ” ì‹œê°„ì˜ ë‚˜ë¨¸ì§€ê°€ 0ì¸ ìˆœê°„**ì´ ë°”ë¡œ **ë†€ì´ê¸°êµ¬ê°€ ë¹„ì–´ ìˆëŠ” ìˆœê°„ì´ë‹¤.**

ìœ„ì˜ ì˜ˆì‹œì—ì„œë„ 8ë¶„ì§¸ì— ë¹„ì–´ ìˆëŠ” ë†€ì´ê¸°êµ¬ëŠ” `1`,`2`,`4`ë²ˆ ë†€ì´ê¸°êµ¬ ì˜€ë‹¤.

## (2) ì‹œê°„ë³µì¡ë„ ë¶„ì„ ğŸ•“

**`N`**: ë†€ì´ê¸°êµ¬ íƒ€ëŠ” ì•„ì´ ìˆ˜, **`M`**: ë†€ì´ê¸°êµ¬ ìˆ˜

- ë†€ì´ê¸°êµ¬ ì‹œê°„ ì…ë ¥: $O(M)$
- ëª¨ë‘ íƒœìš°ëŠ” ìµœì†Œ ì‹œê°„ êµ¬í•˜ê¸°: $O( 30N \log 30N)$ (30 = ë†€ì´ê¸°êµ¬ ì´ìš©ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì˜ ìµœëŒ€ê°’) 
- ìµœì†Œ ì‹œê°„ ë˜ëŠ” ì§€ í™•ì¸: $O(M)$
- `remained_kid` êµ¬í•˜ê¸° : $O(M)$
- ë‹µ êµ¬í•˜ê¸°: $O(M)$

**`ì´ ì‹œê°„ ë³µì¡ë„`**: $O(M + 30N \log 30N)$

# 3. ì½”ë“œ ì†Œê°œ ğŸ”

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;


public class Main {
    static int N, M;
    static long minimum_time, remained_kid;
    static int [] rides;
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        rides = new int [M];
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < M; i++) {
            rides[i] = Integer.parseInt(st.nextToken());
        }

        if(M >= N) {    // ë†€ì´ê¸°êµ¬ë³´ë‹¤ ì‚¬ëŒìˆ˜ê°€ ì ê±°ë‚˜ ê°™ì„ ê²½ìš°, ì‚¬ëŒì˜ ìˆœë²ˆì´ ê³§ íƒ€ëŠ” ë†€ì´ê¸°êµ¬
            System.out.println(N);
            return;
        }
        N -= M;
        minimum_time = binary_search();
        remained_kid = N - before_minimum_time_kiddo_cnt(minimum_time);
        System.out.println(last_rides_num(remained_kid));
    }
    // Nëª…ì˜ ì•„ì´ë¥¼ ëª¨ë‘ íƒœìš¸ ìˆ˜ ìˆëŠ” ìµœì†Œ ì‹œê°„ ì°¾ëŠ” í•¨ìˆ˜
    public static long binary_search() {
        long start  = 0;
        long end    = 30 * (long)Integer.MAX_VALUE;
        while (start <= end) {
            long mid = (start + (end - start)/2);
            if(f(mid)) end = mid -1;
            else start = mid + 1;
        }
        return start;
    }
    // Nëª…ì„ ì…ë ¥ ë°›ì€ ì‹œê°„ ë‚´ë¡œ ëª¨ë‘ íƒœìš¸ ìˆ˜ ìˆìœ¼ë©´ true, ì•„ë‹ˆë©´ false ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
    public static boolean f(long time) {
        long kids = 0;
        for (int i = 0; i < M; i++) {
            kids += time/rides[i];
        }
        return N <= kids;
    }
	
    // ìµœì†Œì‹œê°„ - 1ë¶„ ì‹œì ì— ë‚¨ì•„ìˆëŠ” ì•„ì´ ìˆ˜ êµ¬í•˜ëŠ” í•¨ìˆ˜ 
    public static long before_minimum_time_kiddo_cnt( long minimum_time){
        long kids = 0;
        for (int i = 0; i < M; i++) {
            kids += (minimum_time-1)/rides[i];
        }
        return kids;
    }
	
    // ë§ˆì§€ë§‰ ë†€ì´ê¸°êµ¬ ë²ˆí˜¸ êµ¬í•˜ëŠ” í•¨ìˆ˜
    public static int last_rides_num(long kids_cnt) {
        for (int i = 0; i < M; i++) {
            if(minimum_time%rides[i] == 0) kids_cnt--;
            if(kids_cnt == 0) return i+1;
        }
        return -1;
    }
}

```



# 4. ë°°ìš´ ê²ƒë“¤ ğŸ¯

ë¬¸ì œë¥¼ ì´ë ‡ê²Œë„ ë‚¼ ìˆ˜ ìˆêµ¬ë‚˜ ë°°ì› ë‹¤.
