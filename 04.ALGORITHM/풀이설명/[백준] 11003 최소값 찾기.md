# 1. ë¬¸ì œ ì„¤ëª… ğŸ“Œ

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/11003)

ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ì—ì„œ ë” ë‚˜ì•„ê°€ì„œ, ìœˆë„ìš° êµ¬ê°„ì•ˆì— ìµœì†Œê°’ì„ ë§¤ë²ˆ ì¶œë ¥í•˜ëŠ” ë¬¸ì œì´ë‹¤.

# 2. ì ‘ê·¼ ë°©ì‹ ğŸ—ƒï¸

`KEY WORD`: `Sliding Window`, `Data Structure (Deque)`

> íŒŒì´ì¬ì—ì„œëŠ” ì¶”ê°€ì‹œê°„ì´ ì£¼ì–´ì¤˜ì„œ ìš°ì„ ìˆœìœ„ íë¥¼ ì´ìš©í•´ë„ í’€ë¦¬ì§€ë§Œ, Javaì—ì„œëŠ” í’€ë¦¬ì§€ ì•ŠëŠ”ë‹¤. ì™œ ìš°ì„ ìˆœìœ„ íë¡œëŠ” ì•ˆë˜ëŠ”ì§€ì— ëŒ€í•´ 4ë²ˆ í•­ëª©ì—ì„œ ì„¤ëª…í•˜ê² ë‹¤.

## (1) ì „ì²´ ì ‘ê·¼ ë°©ì‹

1. ArrayDequeë¡œ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ êµ¬í˜„í•œë‹¤. 
   (í•´ë‹¹ dequeëŠ” í˜„ì¬ êµ¬ê°„ì¸ ê°’ë“¤ë§Œ ê°€ì§€ê³  ìˆìœ¼ë©°, ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ê°’ì˜ ìˆœì„œë¥¼ ìœ ì§€í•œë‹¤. (front = ìµœì†Œê°’))
2. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ í•œ ì¹¸ì”© ì›€ì§ì¸ë‹¤.
   
3. êµ¬ê°„ì— ì‹ ê·œë¡œ ì¶”ê°€ë  ê°’ì„ **A**ë¼ê³  ì³¤ì„ ë•Œ, Aì™€ dequeì˜ rear(ê¼¬ë¦¬)ë¥¼ ë¹„êµí•œë‹¤
   - `rear > A`: Aê°€ ë” ìµœì†Œê°’ì´ë¼ë©´, rearë¥¼ dequeì—ì„œ ì œì™¸ì‹œí‚¨ë‹¤. (ë°˜ë³µ)
   - `rear < A`: Aë¥¼ dequeì— ì¶”ê°€í•œë‹¤.
4. í˜„ êµ¬ê°„ì— ëŒ€í•œ ê³„ì‚°ì´ ì™„ë£Œë˜ì—ˆìŒìœ¼ë¡œ, dequeì˜ front ê°’ì„ ì¶œë ¥í•œë‹¤. (í˜„ì¬ êµ¬ê°„ì˜ ìµœì†Œê°’)

## (2) ê·¸ë¦¼ì„ í™œìš©í•œ í•´ì„¤

ë¬¸ì œì˜ 1,2ë²ˆì€ dequeë¥¼ í™œìš©í–ˆë‹¤ëŠ” ê²ƒë§Œ ì œì™¸í•˜ë©´ ì¼ë°˜ì ì¸ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¼ì„œ ì´í•´ì— ì§€ì¥ì´ ê°€ì§€ ì•Šì„ ê²ƒì´ë‹¤. 1ë²ˆì—ì„œ ê¸°ë¡í•œ dequeì˜ ì¡°ê±´ = "*dequeëŠ” í˜„ì¬ êµ¬ê°„ì¸ ê°’ë“¤ë§Œ ê°€ì§€ê³  ìˆìœ¼ë©´ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ìœ ì§€í•œë‹¤.*"ê°€ ì™œ ê·¸ëŸ°ì§€ëŠ” ì°¨ì°¨ ì„¤ëª…í•˜ê² ë‹¤. ë¨¼ì € deque ì•ˆì—ëŠ” **Lê°œ ì´í•˜ì˜ ê°’ì´ ì €ì¥ë˜ì–´ ìˆë‹¤.**ë§Œ ì•Œê³  ìˆìœ¼ë©´ ëœë‹¤.

![image-20241221175527761](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221175527761.png)

ìœ„ì˜ ê·¸ë¦¼ì´ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì§„í–‰í•˜ê¸° ì „ ì´ˆë°˜ ì„¸íŒ…ì´ë‹¤. ì´ì œ í•˜ë‚˜ì”© í•´ë³´ì.

### a. dequeê°€ ë¹„ì—ˆì„ ì‹œ

dequeê°€ ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ ë¹„ì—ˆë‹¤ë©´ ê·¸ì € í˜„ì¬ êµ¬ê°„ì— ì‹ ê·œë¡œ ì‚½ì…ë  ê°’ì„ dequeì— ë„£ì–´ì£¼ë©´ ëœë‹¤. ì—¬ê¸°ì„œëŠ” 1ì„ ì¶”ê°€í•˜ê²Œ ë  ê²ƒì´ë‹¤.

![image-20241221175849602](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221175849602.png)

### b. dequeê°€ ë¹„ì–´ìˆì§€ ì•Šì„ ì‹œ

ìœ„ì˜ ì ‘ê·¼ë°©ì‹ ì¤‘ `3`ë²ˆì— í•´ë‹¹í•˜ëŠ” ì‹œì ì´ë‹¤. ë‹¤ìŒìœ¼ë¡œ ë“¤ì–´ì˜¬ ìˆ˜ëŠ” '5'ì¸ë°, 5ëŠ” 1ë³´ë‹¤ í¼ìœ¼ë¡œ, ê·œì¹™ì— ë”°ë¼ ê·¸ì € ì¶”ê°€í•œë‹¤.

![image-20241221180019672](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221180019672.png)

ë‹¤ìŒìœ¼ë¡œ ë“¤ì–´ì˜¬ ìˆ˜ëŠ” '2'ì´ë‹¤. 2ëŠ” 5ë³´ë‹¤ í¬ë‹¤. ë”°ë¼ì„œ 5ë¥¼ dequeì—ì„œ ë¹¼ë‚´ê³ , ì¶”ê°€ì‹œì¼œì•¼ í•œë‹¤. 
### ì™œ 5ë¥¼ ë¹¼ë‚¼ê¹Œ? :thinking:

5ì˜ í›„ì„ìê°€ ë˜ëŠ” ìˆ˜ ì¤‘ì—, 5ë³´ë‹¤ ì‘ì€ ìˆ˜ê°€ ì¡´ì¬í•œë‹¤. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì›€ì§ì¼ ë•Œë§ˆë‹¤, ìµœì¢Œë‹¨ì˜ ê°’ì€ ë¹ ì§€ê³ , ìµœìš°ë‹¨ì— ì‹ ê·œê°’ì´ ì¶”ê°€ê°€ ëœë‹¤. ë”°ë¼ì„œ **5ê°€ êµ¬ê°„ì•ˆì— ì‚´ì•„ìˆì„ ë™ì•ˆ í›„ì„ìê°€ ë˜ëŠ” ê°’ì€ ë¬´ì¡°ê±´ ì‚´ì•„ìˆë‹¤.** ê·¸ëŸ¬ë¯€ë¡œ, **5ê°€ ìµœì†Œê°’ì´ ë  ì¼ì´ ì—†ì–´ì§„ë‹¤.** ì´ëŸ¬í•œ ë…¼ë¦¬ì— ì˜í•´ 5ëŠ” í•„ìš”ì—†ëŠ” ê°’ì´ ë˜ë¯€ë¡œ ë¹¼ë‚´ì–´ì¤€ë‹¤.

### 2ëŠ” ì‚´ì•„ë‚¨ëŠ” ì´ìœ 

2ëŠ” êµ¬ê°„ì´ ì›€ì§ì´ë©´ì„œ '1'ì´ë€ ê°’ì´ ì‚¬ë¼ì§ˆ ê²½ìš°, ìµœì†Œê°’ì´ ë  ìˆ˜ ìˆëŠ” **ìœ ë ¥í•œ í›„ë³´**ì´ê¸° ë•Œë¬¸ì´ë‹¤.

![image-20241221180851684](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221180851684.png)

ì´ì œ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì›€ì§ì—¬ë³´ì. 

![image-20241221181027721](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221181027721.png)

3ì€ 2ë³´ë‹¤ ì‘ìœ¼ë‹ˆ dequeì— ì¶”ê°€ëœë‹¤.

![image-20241221181113939](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221181113939.png)

6ë„ ë§ˆì°¬ê°€ì§€ ì´ë‹¤. ë‹¤ìŒì´ ì¤‘ìš”í•˜ë‹¤.

![image-20241221181152383](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221181152383.png)

ë¨¼ì € ìœˆë„ìš°ê°€ ì›€ì§ì„ì— ë”°ë¼ ìµœì¢Œë‹¨ì˜ 2ëŠ” ì œê±°ëœë‹¤. ì´í›„ ìƒˆë¡œìš´ 2ê°€ ì…ë ¥ëœë‹¤. ìµœìš°ë‹¨ì˜ ê°’ìœ¼ë¡œ 2ê°€ ì¶”ê°€ë˜ëŠ” ì‹œì ì—ì„œ 3ê³¼ 6ì€ ì“¸ëª¨ì—†ëŠ” ê°’ì´ ë˜ì–´ë²„ë¦°ë‹¤. ìì‹ ë“¤ì´ ì‚´ì•„ìˆì„ ë™ì•ˆì€ 2ê°€ í•­ìƒ ìµœì†Œê°’ì´ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ 3ê³¼ 6ì€ dequeì—ì„œ ì œê±°í•˜ê³  2ë§Œ ì‚´ì•„ë‚¨ëŠ”ë‹¤.

ì´ëŸ° ì‹ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ë©´ ëœë‹¤. í•˜ë‚˜ ë¹ íŠ¸ë¦° ê²ƒì´ ìœ„ì™€ ê°™ì´ dequeë¥¼ ì›€ì§ì¼ ë•Œë§ˆë‹¤, dequeì˜ peek()ì´ ìµœì†Œê°’ì„ìœ¼ë¡œ ì´ë¥¼ ì¶œë ¥í•´ì£¼ë©´ ëœë‹¤ëŠ” ê²ƒì´ë‹¤.

# 3. ì½”ë“œ ì†Œê°œ ğŸ”

```java
import java.io.*;
import java.util.ArrayDeque;
import java.util.Arrays;
import java.util.Comparator;
import java.util.PriorityQueue;
import java.util.StringTokenizer;

public class Main {

    /*
    * 1. ArrayDequeë¡œ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ êµ¬í˜„
    * 2. í•´ë‹¹ ìœˆë„ìš°ì•ˆì˜ ê°’ì€ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬, ì¦‰ dequeì˜ frontëŠ” ìµœì†Œê°’ì„ ìœ ì§€
    * 3. dequeì˜ rearì™€ í˜„ì¬ ìƒˆë¡œ ì‚½ì…ë  ê°’ì„ ë¹„êµ, ë§Œì•½ ì‚½ì…ë  ê°’ì´ ë” ì‘ë‹¤ë©´, dequeì˜ rearê°’ ì œê±°
    *   (why? - ì´í›„ì˜ ê°’ë“¤ ì¤‘ ì´ë¯¸ ìì‹ ë³´ë‹¤ ì‘ì€ ê°’ì´ ë‚˜ì™”ë‹¤.
    *       == ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì´ë™í•˜ë”ë¼ë„ ì´ì œ ìì‹ ì´ ìµœì†Œê°’ì¼ ê°€ëŠ¥ì„±ì€ ì—†ë‹¤.)
    * 4. ìƒˆë¡œ ì‚½ì…ë  ê°’ì´ dequeì˜ rearë³´ë‹¤ í¬ë‹¤ë©´ ì´ì œ dequeì— ì‚½ì…
    *   (why? - ë§Œì•½ frontì˜ ê°’ì´ ë²”ìœ„ë¥¼ ì§€ë‚˜ì³ì„œ ìœˆë„ìš° ë‚´ë¶€ì—ì„œ ë¹ ì ¸ë‚˜ê°€ë©´ ìµœì†Œê°’ì´ ë  í™•ë¥ ì´ ìˆë‹¤.)
    * */

    public static void main(String[] args) throws IOException {
        StringBuilder ans = new StringBuilder();
        int N, L;
        ArrayDeque<Num> window = new ArrayDeque<>();

        BufferedReader br  = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        L = Integer.parseInt(st.nextToken());
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < N; i++) {
            if (window.isEmpty()) window.add(new Num(i, Integer.parseInt(st.nextToken())));
            else {
                int now = Integer.parseInt(st.nextToken());
                if(window.peek().i <= i-L){window.poll();}

                while (!window.isEmpty()&& window.peekLast().v > now) window.pollLast();
                window.add(new Num(i, now));
            }
            ans.append(window.peek().v).append(" ");
        }
        System.out.println(ans);
    }
}

class Num {
    int i;
    int v;

    public Num(int i, int v){
        this.i = i;
        this.v = v;
    }
}
```

# 4. ë°°ìš´ ê²ƒë“¤ ğŸ¯

ì˜¤ëœë§Œì— dequeë¥¼ ì‚¬ìš©í•˜ë ¤í•˜ë‹ˆ, ëª…ë ¹ì–´ê°€ í—·ê°ˆë ¸ë‹¤. java ëª…ë ¹ì–´ê°€ frontì™€ rearë¡œ êµ¬ë¶„ë˜ì–´ ìˆìœ¼ë©´, ë¹ ë¥´ê²Œ ë‹¤ì‹œ ì´í•´í–ˆì„í…ë° `first`ì™€ `last`ë¡œ ëª…ë ¹ì–´ë¥¼ êµ¬ë¶„í•´ë†”ì„œ, '*dequeì˜ frontì— ë„£ìœ¼ë ¤ë©´ ë¬´ìŠ¨ ëª…ë ¹ì–´ë¥¼ ì¨ì•¼í•˜ì§€?*' ë¼ëŠ” ìƒê°ì— í—¤ë©¨ë‹¤. ê·¸ë˜ì„œ ì •ë¦¬í•˜ë ¤ê³  í•œë‹¤.

![image-20241221181628602](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221181628602.png)

queueë„ ë§ˆì°¬ê°€ì§€ì§€ë§Œ, dequeë„ ê¼¬ë¦¬ë¡œ ì…ë ¥ì´ ë“¤ì–´ì™€ì„œ ë¨¸ë¦¬ë¡œ ì¶œë ¥ë˜ëŠ” ì„ ì…ì„ ì¶œ(ë¨¼ì € ë“¤ì–´ê°„ ê²ƒì´ ë¨¼ì € ë‚˜ì˜¤ëŠ”) êµ¬ì¡° ì´ë‹¤. 

![image-20241221181808614](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221181808614.png)

ê°ê°ì„ firstì™€ Lastë¼ê³  ë¶€ë¥¸ë‹¤. 

![image-20241221182012350](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 11003 ìµœì†Œê°’ ì°¾ê¸°/image-20241221182012350.png)

ì›ë˜ queueì˜ ì„±ì§ˆì— ë”°ë¼ ìì—°ìŠ¤ëŸ½ê²Œ (ê¼¬ë¦¬ì— ê°’ì„ ì§‘ì–´ë„£ê³ , ë¨¸ë¦¬ê²ƒì„ ì¶œë ¥) ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, queueì™€ ê°™ì€ ì¼ë°˜ì ì¸ ëª…ë ¹ì–´ë¡œ ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ `deque`ë§Œì˜ ì„±ì§ˆì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, (ë¨¸ë¦¬ë¡œ ê°’ì„ ì§‘ì–´ë„£ê³ , ë˜¥ê¼¬ì—ì„œ ë¹¼ë‚´ëŠ”) ìœ„ì™€ ê°™ì´ `first`ë‚˜ `Last`ë¥¼ ëª…ëª…í•´ì¤˜ì•¼ í•œë‹¤.