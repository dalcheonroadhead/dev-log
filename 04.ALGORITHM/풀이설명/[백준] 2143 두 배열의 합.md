# 1. ë¬¸ì œ ì„¤ëª… ğŸ“Œ

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/2143)

ë‘ ë°°ì—´ì˜ êµ¬ê°„í•©ë¼ë¦¬ ë”í•´ì„œ ëª©í‘œê°’ì¸ Tê°€ ë‚˜ì˜¤ëŠ” íšŸìˆ˜ë¥¼ ì„¸ëŠ” ë¬¸ì œ

# 2. ì ‘ê·¼ ë°©ì‹ ğŸ—ƒï¸

`KEY WORD`: `Two Pointer`, `Range sum`

ì´ë²ˆ ë¬¸ì œëŠ” ê° ë°°ì—´ì—ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ”  êµ¬ê°„í•©ì„ ëª¨ë‘ êµ¬í•´ì„œ List í™” ì‹œí‚¨ ë’¤ì—, ì´ ë‘ Listì—ì„œ ê°’ì„ ê°ê° êº¼ë‚´ì–´ ë³´ë©°, Tê°€ ë  ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ë¥¼ ì„¸ì•¼í•œë‹¤. í•œë§ˆë””ë¡œ ìš”ì•½í•˜ë©´ **êµ¬ê°„í•© í›„ë³´êµ°ë“¤ ì‚¬ì´ì—ì„œ Two Pointer**ë¡œ ìš”ì•½í•  ìˆ˜ ìˆë‹¤. 

## (1) ì™œ ê·¸ë ‡ê²Œ í’€ì–´ì•¼ í•˜ë‚˜ìš”?

> **ë‹µ: ë°°ì—´ì˜ ì›ì†Œë¡œ `ìŒìˆ˜`ê°€ ì¡´ì¬**

ì´ ë¬¸ì œì˜ ê¹Œë‹¤ë¡œìš´ ì ì€ ë°°ì—´ì˜ ì›ì†Œë¡œ `ìŒìˆ˜`ê°€ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ëˆ„ì í•©ì„ í™œìš©í•œ êµ¬ê°„í•©ì„ êµ¬í•˜ëŠ”ë° ê¸°ë³¸ì´ ë˜ëŠ” ì „ì œ ì¡°ê±´ì€ **"right í¬ì¸í„°ë¥¼ ëŠ˜ë¦¬ë©´ êµ¬ê°„í•©ì´ ì»¤ì§„ë‹¤. left í¬ì¸í„°ë¥¼ ëŠ˜ë¦¬ë©´ êµ¬ê°„í•©ì´ ì¤„ì–´ë“ ë‹¤. "** ì¸ë°,ì´ë²ˆ ë¬¸ì œì—ì„œëŠ” ìŒìˆ˜ê°€ ëˆ„ì ë  ê²½ìš°, ì´ê²ƒì´ ì „ì œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ê°’ì„ ì˜ˆì¸¡í•  ìˆ˜ ì—†ì–´ <u>ì „ìˆ˜ì¡°ì‚¬</u>ê°€ í•„ìš”í•´ì§„ë‹¤.
![image-20241209222027537](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2143 ë‘ ë°°ì—´ì˜ í•©/image-20241209222027537.png)

ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ì. ìœ„ì˜ ê·¸ë¦¼ì€ ì–‘ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ê³¼ ê·¸ ëˆ„ì í•©ì´ë‹¤. value[B] - value[A] êµ¬ê°„ì˜ í•©ì€ 3ì´ë‹¤. êµ¬ê°„í•©ì´ 2ì¸ ê²½ìš°ë¥¼ ì°¾ëŠ”ë‹¤ê³  ì³¤ì„ ë•Œ, ìš°ë¦¬ëŠ” Aë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ì‹œì¼œì„œ êµ¬ê°„ í•©ì„ ì¤„ì´ë ¤ ë…¸ë ¥í–ˆì„ ê²ƒì´ë‹¤. ì–‘ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ì˜ êµ¬ê°„í•©ì˜ ê²½ìš° ì´ì™€ ê°™ì´ í–‰ë™ì— ê¸°ì¤€ì„ ì„¸ìš¸ ìˆ˜ ìˆë‹¤.

![image-20241209222420270](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2143 ë‘ ë°°ì—´ì˜ í•©/image-20241209222420270.png)

  ë°˜ë©´, ì´ë²ˆ ê·¸ë¦¼ì˜ ê²½ìš°, ìŒìˆ˜ê°€ ì„ì—¬ ìˆê¸° ë•Œë¬¸ì— Bë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ ì‹œí‚¨ë‹¤ê³  í•´ì„œ, êµ¬ê°„í•©ì´ ì¦ê°€í•¨ì„ `ì˜ˆì¸¡`í•  ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ì „ìˆ˜ì¡°ì‚¬ê°€ í•„ìš”í•˜ê²Œ ëœë‹¤. 

*' ì´ë²ˆ ë¬¸ì œì—ì„œ ì „ìˆ˜ì¡°ì‚¬ í•˜ë©´ ë˜ì§€ ì•Šë‚˜?'*ë¼ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, ì‹œê°„ ë³µì¡ë„ë¥¼ ì˜ˆì¸¡í•´ë³´ë©´, ì™„ì „íƒìƒ‰ìœ¼ë¡œ ì ˆëŒ€ í’€ ìˆ˜ ì—†ë‹¤. ë¨¼ì € ë°°ì—´ì˜ ì›ì†Œ ìˆ˜ ìµœëŒ€ê°’ì´ 1000ì´ê³  ëˆ„ì í•© ë°°ì—´ë„ ê°™ì€ ìˆ˜ë¥¼ ê°€ì§ˆ ê²ƒì´ë‹¤. Aë°°ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ êµ¬ê°„í•©ì„ êµ¬í•  ê²½ìš°, ì™„ì „ íƒìƒ‰ì„ í•´ì•¼í•˜ë¯€ë¡œ ì´ì¤‘ ë°˜ë³µë¬¸ì´ í•„ìš”í•˜ë‹¤. Aì—ì„œ êµ¬í•œ êµ¬ê°„í•©ìœ¼ë¡œ Tê°€ ê°€ëŠ¥í•œ B êµ¬ê°„í•©ì„ ìœ„í•´ì„œ ë˜ ì´ì¤‘ ë°˜ë³µë¬¸ì´ í•„ìš”í•˜ë‹¤. ë‘˜ì€ ì—°ì†ë˜ë¯€ë¡œ, ìµœì¢…ì ìœ¼ë¡œ  `4ì¤‘ ë°˜ë³µë¬¸`ì´ í•„ìš”í•˜ê²Œ ëœë‹¤. ì´ê±´ (10^3)^4 = O(10^12)ì´ë¯€ë¡œ, 1ì–µ ë²ˆì˜ ì—°ì‚°ì„ í›¨ì”¬ ë›°ì–´ë„˜ëŠ”ë‹¤. 

## (2) í‘¸ëŠ” ë²• ìì„¸íˆ ì„¤ëª…

- A ë°°ì—´ê³¼ B ë°°ì—´ ëª¨ë‘ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” êµ¬ê°„í•©ì„ ëª¨ë‘ êµ¬í•´ì„œ LISTì— ì €ì¥
- LISTë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ (âœ íˆ¬ í¬ì¸í„° ì§„í–‰ ì‹œ ê°’ë“¤ì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆê¸° ìœ„í•¨)
- `ë§ˆì£¼ ë³´ëŠ” íˆ¬ í¬ì¸í„° ì§„í–‰`í•˜ì—¬ Tê°€ ë  ìˆ˜ ìˆëŠ” ê°’ë“¤ì„ ì²´í¬
  (A êµ¬ê°„í•© Listì—ì„œëŠ” ì™¼ìª½(ì˜¤ë¦„ì°¨ìˆœ) ì¶œë°œ, B êµ¬ê°„í•© Listì—ì„œëŠ” ì˜¤ë¥¸ìª½ (ë‚´ë¦¼ì°¨ìˆœ) ì¶œë°œ)
  - ì¤‘ë³µë˜ëŠ” A,B ê°’ë“¤ë¡œ Tê°€ ì™„ì„±ë  ìˆ˜ ìˆìŒ. âœ ë‚´ë¶€ ë°˜ë³µë¬¸ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì²˜ë¦¬ 



### ì ê¹!âœ‹ë§ˆì£¼ë³´ëŠ” íˆ¬í¬ì¸í„°ë¥¼ ì§„í–‰í•˜ëŠ” ì´ìœ ? 

> ë‹µ: ì¤‘ë³µëœ ë°˜ë³µë¬¸ì„ í”¼í•  ìˆ˜ ìˆë‹¤.

![image-20241209224830524](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2143 ë‘ ë°°ì—´ì˜ í•©/image-20241209224830524.png)

ëª©í‘œ ê°’(T)ë¥¼ 8ì´ë¼ê³  í•  ë•Œ, Bê°€ 10ì„ ê°€ë¥´í‚¤ëŠ” ê²½ìš°, A = -2 ì´ì™¸ì— í•´ë‹¹ ê°’ì„ ì™„ì„± ì‹œí‚¬ ìˆ˜ ìˆëŠ”ê°€? ì—†ë‹¤. ì™œëƒí•˜ë©´ AëŠ” ì•ìœ¼ë¡œ ê³„ì† ì»¤ì§ˆ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤. ì´ë•ŒëŠ” Bë¥¼ ì›€ì§ì—¬ ê°’ì„ ì¤„ì—¬ì•¼ í•œë‹¤. ë°˜ëŒ€ë¡œ Aê°€ -2ì¼ë•Œë„ B = 10 ì´ì™¸ì˜ ë‹¤ë¥¸ ì–´ë–¤ ê°’ë„ T=8ì„ ë§Œì¡±ì‹œí‚¬ ìˆ˜ ì—†ë‹¤. ì™œëƒí•˜ë©´ ì•ìœ¼ë¡œ ë§Œë‚  ê°’ë“¤ì€ B=10ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì´ë‹¤. ì´ë ‡ê²Œ `ë§ˆì£¼ë³´ëŠ” íˆ¬ í¬ì¸í„°`ë¥¼ ì‚¬ìš©í•˜ë©´, í–‰ë™ì— ë”°ë¥¸ ê²°ê³¼ë¥¼ **ì˜ˆì¸¡ í•  ìˆ˜ ìˆë‹¤.**

# 3. ì½”ë“œ ì†Œê°œ ğŸ”

```java
import java.io.*;
import java.util.*;

public class Main {

    /* b2143 ë‘ ë°°ì—´ì˜ í•©
    1. ê° ë°°ì—´ì˜ êµ¬ê°„í•© êµ¬í•˜ê¸°
    2. A êµ¬ê°„í•©ì„ ê¸°ì¤€ìœ¼ë¡œ B êµ¬ê°„í•©ì„ ë”í•œë‹¤.
    3. B êµ¬ê°„í•©ì„ ë”í–ˆì„ ë•Œ, ì´ ê³„ì‚° ê²°ê³¼ê°€ Të¥¼ ë„˜ì–´ì„œë©´, A êµ¬ê°„í•©ì˜ ìœ„ì¹˜ë¥¼ ì˜®ê¸´ë‹¤.
    */

    public static void main(String[] args) throws IOException {
        // 0. ë³€ìˆ˜ ëª¨ìŒ
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int T;
        int [] A;
        int [] B;
        int [] sumA;
        int [] sumB;
        ArrayList<Integer> secA = new ArrayList<>();
        ArrayList<Integer> secB = new ArrayList<>();
        // 1. ì´ˆê¸°í™”
        T = Integer.parseInt(br.readLine());
        A = new int [Integer.parseInt(br.readLine())+1];
        StringTokenizer st = new StringTokenizer(br.readLine());
        for (int i = 1; i < A.length; i++) {
            A[i] = Integer.parseInt(st.nextToken());
        }
        B = new int [Integer.parseInt(br.readLine())+1];
        st = new StringTokenizer(br.readLine());
        for (int i = 1; i < B.length; i++) {
            B[i] = Integer.parseInt(st.nextToken());
        }
        sumA = new int [A.length];
        sumB = new int [B.length];
        initSums(sumA, A);
        initSums(sumB, B);
        initSec(secA,sumA);
        initSec(secB,sumB);
        Collections.sort(secA);
        Collections.sort(secB);

        
        // 2. ê³„ì‚°
        System.out.println(calcul(secA,secB,T));
    }
    // ëˆ„ì í•© ì´ˆê¸°í™” í•¨ìˆ˜
    public static void initSums (int [] sum, int [] arr){
        for (int i = 1; i < sum.length; i++) {
            sum[i] = sum[i-1] + arr[i];
        }
    }
    // êµ¬ê°„í•© ì´ˆê¸°í™” í•¨ìˆ˜
    public static void initSec (ArrayList<Integer> sec, int [] sum){
        for (int i = 1; i < sum.length; i++) {
            for (int j = 0; j < i; j++) {
                sec.add(sum[i]-sum[j]);
            }
        }
    }
    // ë³¸ ê³„ì‚° í•¨ìˆ˜
    public static long calcul(ArrayList<Integer> secA, ArrayList<Integer> secB, int T){
        long ans = 0;
        int a = 0;
        int b = secB.size()-1;

        while ( a < secA.size() && b > -1){
            int now = secA.get(a) + secB.get(b);
            if(now == T){
                // ìµœì´ˆ secA.get(a) ê°’ í˜¹ì€ secB.get(b) ê°’ê³¼ ê°™ì€ ê°’ ì„¸ì–´ì„œ ì¤‘ë³µê°’ ë¹ ë¥´ê²Œ ì²˜ë¦¬ ìœ„í•¨
                long ac = 0; long bc = 0;
                long firstA = secA.get(a);
                while(a<secA.size() && firstA == secA.get(a)){
                    a++;
                    ac++;
                }

                long firstB = secB.get(b);
                while (b > -1 && firstB == secB.get(b)){
                    b--;
                    bc++;
                }
                ans += (ac * bc);
            }else if(now < T){
                a++;
            }else {
                b--;
            }
        }
        return ans;
    }
}
```

í•´ë‹¹ í’€ì´ì—ì„œ ë”°ë¡œ ì„¤ëª…í•´ì•¼í•  íŒŒíŠ¸ëŠ” ì•„ë§ˆë„ ê°™ì€ **A,B ì¡°í•©ì„ ë§Œë‚¬ì„ ë•Œ ì–´ë–»ê²Œ ë‹¤ë£¨ëŠ”ê°€?** ì¼ ê²ƒì´ë‹¤.

![image-20241209225452959](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2143 ë‘ ë°°ì—´ì˜ í•©/image-20241209225452959.png)

ìœ„ ê·¸ë¦¼ê³¼ ê°™ì€ ê²½ìš°ì´ë‹¤. ì£¼ì˜í•´ì•¼í•  ì ì€, ì´ **ì¤‘ë³µë˜ëŠ” ì¡°í•© ì‚¬ì´ì—ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ê°€ ì—¬ëŸ¬ê°€ì§€** ì´ë‹¤. ë¼ëŠ” ì ì´ë‹¤. 

ë§¨ ì™¼ìª½ 2ë¡œ íƒ€ê²Ÿê°’ 9ë¥¼ ë§Œë“œëŠ” ê²½ìš°ì˜ ìˆ˜ëŠ” 5ê°€ì§€ì´ë‹¤. ì´ëŠ” ë‚˜ë¨¸ì§€ 2ëª¨ë‘ ë™ì¼í•˜ë‹¤. ë”°ë¼ì„œ Të¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì¤‘ë³µëœ aê°’ê³¼ bê°’ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” íƒ€ê²Ÿì˜ ê°¯ìˆ˜ëŠ” `a * b`ê°œ ì´ë‹¤.

```java
        if(now == T){
            // ìµœì´ˆ secA.get(a) ê°’ í˜¹ì€ secB.get(b) ê°’ê³¼ ê°™ì€ ê°’ ì„¸ì–´ì„œ ì¤‘ë³µê°’ ë¹ ë¥´ê²Œ ì²˜ë¦¬ ìœ„í•¨
            long ac = 0; long bc = 0;
            long firstA = secA.get(a);
            while(a<secA.size() && firstA == secA.get(a)){
                a++;
                ac++;
            }

            long firstB = secB.get(b);
            while (b > -1 && firstB == secB.get(b)){
                b--;
                bc++;
            }
            ans += (ac * bc);
        }else if(now < T){
            a++;
        }else {
            b--;
        }
```

ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ Tê°€ ë˜ëŠ” ì¡°í•©ì„ ë§Œë‚¬ì„ ê²½ìš°, aê°’ê³¼ bê°’ì´ ê°ê° ì¤‘ë³µë˜ëŠ”ì§€ ì„¸ì–´ì¤˜ì•¼ í•œë‹¤. `ac`ì™€ `bc`ëŠ” ê°ê° Tê°€ ë˜ëŠ” aì™€ bê°€ ì¤‘ë³µë˜ì–´ì„œ ë‚˜íƒ€ëŠ”ì§€ ì´ë‹¤. ì¤‘ë³µë ë•Œë§ˆë‹¤ ê°’ì„ ì˜¬ë¦°ë‹¤. ì´í›„, ì´ë“¤ ê°„ì˜ ì¡°í•©ìœ¼ë¡œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” Tì˜ ê°œìˆ˜ë¥¼ ì„¸ì„œ ë”í•´ì¤€ë‹¤.



# 4. ë°°ìš´ ê²ƒë“¤ ğŸ¯

![image-20241209225913646](../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2143 ë‘ ë°°ì—´ì˜ í•©/image-20241209225913646.png)

- `ì´ˆë°˜ì— í‹€ë ¸ë˜ ì´ìœ `: **íˆ¬ í¬ì¸í„°**ë¥¼ ë‹¨ë°©í–¥ìœ¼ë¡œë§Œ ìƒê°í–ˆë‹¤. 
  í•˜ì§€ë§Œ ë°°ì—´ì´ ë‘ ê°œì´ê¸° ë•Œë¬¸ì— ë‹¨ë°©í–¥ íˆ¬ í¬ì¸í„°ë¡œ í’€ë©´ Aê°’ì´ ê°±ì‹ ë  ë•Œë§ˆë‹¤ Bê°’ì€ ì²˜ìŒë¶€í„° ì‹œì‘í•´ì•¼í•œë‹¤. (Tê°€ ì–´ë””ì„œ ë‚˜ì˜¬ì§€ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•´ì„œ) ì´ëŠ” ê·¸ëƒ¥ 4ì¤‘ ë°˜ë³µë¬¸ ì™„ì „íƒìƒ‰ì´ ëœë‹¤.
- `ì´í›„ í‹€ë ¸ë˜ ì´ìœ `: ì¤‘ë³µë˜ëŠ” ê°’ì˜ ì¡°í•©ì´ ë‚˜ì˜¬ ë–„, `ac * bc`ê°€ ì•„ë‹ˆë¼ `ac + bc`ë¡œ í’€ì—ˆë‹¤. ì—°ì†ë˜ëŠ” ê°’ë“¤ì˜ ê²½ìš°ì˜ ìˆ˜ì´ë¯€ë¡œ ë”í•˜ê¸°ê°€ ì•„ë‹Œ ê³±í•˜ê¸°ë¡œ í’€ì–´ì•¼ í•œë‹¤. (ê³ ë“±í•™êµ ë•Œ í™•í†µ ì˜í–ˆëŠ”ë° ã… ã… )