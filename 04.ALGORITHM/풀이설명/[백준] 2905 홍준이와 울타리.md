# 1. ë¬¸ì œ ì„¤ëª… ğŸ“Œ

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/2905)

ë¬¸ì œ ì„¤ëª…ì´ ì–´ë ¤ì›Œì„œ ë¶€ì—° ì„¤ëª…ì„ í•˜ê² ë‹¤.
Nê°œì˜ ìš¸íƒ€ë¦¬ì™€ ë„ˆë¹„ê°€ Xì¸ ë£°ëŸ¬ê°€ ìˆë‹¤. ìš¸íƒ€ë¦¬ì˜ ê²½ìš° ë„ˆë¹„ëŠ” 1ë¡œ ê³ ì •ì´ê³ , ë†’ì´ë§Œ 1ì°¨ì› ë°°ì—´ í˜•ì‹ìœ¼ë¡œ ì£¼ì–´ì§„ë‹¤. ë‹¹ì‹ ì€ ë£°ëŸ¬ë¥¼ í™œìš©í•˜ì—¬ í˜ì¸íŠ¸ë¥¼ ì¹ í•  ê²ƒì¸ë°, ë„ˆë¹„ê°€ Xì„ìœ¼ë¡œ, X ë„ˆë¹„ ë‚´ì˜ ìš¸íƒ€ë¦¬ëŠ” í•œ ë²ˆì— ì¹ í•˜ê²Œ ë  ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

*(1) ë£°ëŸ¬ì˜ ë¶€ë¶„ì´ í—ˆê³µì— ë‹¿ìœ¼ë©´ ì•ˆëœë‹¤.*
 ![image-20241224230052383](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241224230052383.png)![image-20241224230137879](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241224230137879.png)

ì™¼ìª½ê³¼ ê°™ì´ ì¼ë ¨ì˜ ìš¸íƒ€ë¦¬ê°€ ì£¼ì–´ì§„ë‹¤ë©´, ì˜¤ë¥¸ìª½ ê·¸ë¦¼ì˜ í…Œë‘ë¦¬ ì•ˆ ìª½ë§Œ ë¡¤ëŸ¬ë¥¼ ëŒë ¤ ì¹ í•  ìˆ˜ ìˆë‹¤ëŠ” ë§ì´ë‹¤. ì¦‰ **ë¡¤ëŸ¬ ë„ˆë¹„ X ë‚´ì— ì œì¼ ì‘ì€ ìš¸íƒ€ë¦¬ê°€ ìƒ‰ì¹ ì˜ ê¸°ì¤€**ì´ ëœë‹¤.

*(2) ì¹ í•œë°ëŠ” ë˜ ì¹ í•  ìˆ˜ ìˆë‹¤.*

 ![image-20241224230715688](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241224230715688.png)

ë‹¤ìŒê³¼ ê°™ì´ ë¡¤ëŸ¬ì˜ ë„ˆë¹„ê°€ 3ì¼ ë•Œ, ì²˜ìŒ ë§ë”±ëœ¨ë¦¬ëŠ” êµ¬ê°„ì—ì„œëŠ” ìµœëŒ€ë¡œ ì¹ í•  ìˆ˜ ìˆëŠ” ë†’ì´ê°€ 1ì¼ ê²ƒì´ë‹¤.

![image-20241224230830018](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241224230830018.png)

ë¡¤ëŸ¬ë¥¼ í•œ ì¹¸ ì˜®ê¸°ë©´ ì–´ë–¨ê¹Œ? 2ê°€ ë°”ë¡œ ë¡¤ëŸ¬ë¡œ ì¹ í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ë†’ì´ê°€ ëœë‹¤. ì´ë•Œ, ì¹ í•œ ê³³ì„ ë˜ ì¹ í•´ë„ ëœë‹¤ëŠ” ê²ƒì´ë‹¤.

![image-20241224231002260](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241224231002260.png)

ë‹¤ìŒê³¼ ê°™ì€ 2ê°€ì§€ ì¡°ê±´ì„ ì°¸ê³ í•˜ì—¬, ì¹ í•´ì§€ì§€ ì•Šì€ ë¶€ë¶„ì˜ ìµœì†Œê°’ê³¼, í•„ìš”í•œ ìµœì†Œí•œì˜ ë¡¤ëŸ¬ì§ˆ íšŸìˆ˜ë¥¼ êµ¬í•˜ë©´ ëœë‹¤.

# 2. ì ‘ê·¼ ë°©ì‹ ğŸ—ƒï¸

`KEY WORD`: `Sliding Window`, `Monotone Queue`

ì›ë˜ë¼ë©´, í° ì ‘ê·¼ ë°©ì‹ ê°œìš”ë¥¼ ì„¤ëª…í•˜ê³  ì„¸ì„¸í•˜ê²Œ ì ‘ê·¼ í–ˆì„í…ë°, ì´ë²ˆ ë¬¸ì œëŠ” ì‚¬ì „ì— ì•Œì•„ì•¼í•  ë‚´ìš©ì´ ìˆì–´ ë¨¼ì € ê·¸ê²ƒì— ëŒ€í•´ ë§í•˜ê³  í° ê°œìš”ë¥¼ ì„¤ëª…í•˜ê² ë‹¤.

## (1) ì‚¬ì „ ì§€ì‹: ìŠ¬ë¼ì´ë”© ë‹¨ì¡° íì— ëŒ€í•´

**Monotone Queue**(ë‹¨ì¡° í)ë€ íì•ˆì˜ ê°’ì„ ì˜¤ë¦„ì°¨ìˆœ í˜¹ì€ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ê¾¸ì¤€íˆ ìœ ì§€ë˜ëŠ” íë¥¼ ë§í•œë‹¤. ì´ê±¸ í™œìš©í•´ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. 
  ì´ëŸ° ì‹ìœ¼ë¡œ ë‘˜ì„ ê²°í•©í•´ í‘¸ëŠ” ë¬¸ì œ ìœ í˜•ì´ ê½¤ ë˜ëŠ”ë°, ì´ ìë£Œêµ¬ì¡°ë¥¼ ê°€ë¦¬í‚¬ë§Œí•œ ìš©ì–´ê°€ ì—†ì–´ì„œ í•„ìëŠ” `ìŠ¬ë¼ì´ë”© ë‹¨ì¡° í`ë¼ê³  ë¶€ë¥¸ë‹¤. í•´ë‹¹ ê°œë…ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ë°‘ì˜ ë§í¬ë¥¼ ì°¸ê³ í•˜ê¸° ë°”ë€ë‹¤. 

  ê°„ë‹¨íˆ `ìŠ¬ë¼ì´ë”© ë‹¨ì¡° í`ì˜ ê°œë…ì— ëŒ€í•´ ì„¤ëª…í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

0. Deckìœ¼ë¡œ êµ¬í˜„í•œë‹¤.
1. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì›€ì§ì´ë©° ë°›ì•„ì•¼ í•˜ëŠ” ì‹ ê·œê°’ì€ ë¬´ì¡°ê±´ deckì˜ ê¼¬ë¦¬ë¡œ ì§‘ì–´ ë„£ëŠ”ë‹¤.
2. 1ë²ˆ ê·œì¹™ì„ ì§€í‚¤ë©´ì„œ deck ì•ˆì„ ë¹„ë‚´ë¦¼ì°¨ìˆœ í˜¹ì€ ë¹„ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ìœ ì§€ì‹œì¼œì•¼ í•œë‹¤.
3. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ê°€ ì§€ë‚˜ê°„ ê°’ì€ deckì—ì„œë„ ì œê±° í•œë‹¤.

 1ë²ˆ ê·œì¹™ì„ ì§€í‚¤ë©´ì„œ 2ë²ˆ ê·œì¹™ì„ ì§€í‚¤ë ¤ë©´, **íì˜ ê¼¬ë¦¬ê°’ê³¼ ì‹ ê·œê°’ ê°„ì˜ ëŒ€ì†Œê´€ê³„ ë¹„êµê°€ í•„ìš”**í•˜ë‹¤. ê°€ë ¹ ë‹¨ì¡°í ì•ˆì„ ì˜¤ë¦„ ì°¨ìˆœìœ¼ë¡œ ìœ ì§€ì‹œí‚¬ ì˜ë„ë¼ë©´

- `queue.rear() > new` ë¼ë©´ newê°€ íì˜ ê¼¬ë¦¬ì— ë“¤ì–´ê°€ë©´ ì˜¤ë¦„ì°¨ìˆœì´ ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, queueì˜ rearë¥¼ ì œê±°í•œë‹¤.
  (ì´ ê³¼ì •ì„ rear <= new ê°€ ë  ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤.)
- `queue.rear() <= new` ë¼ë©´ newê°€ íì˜ ê¼¬ë¦¬ì— ë“¤ì–´ê°€ë„ ì˜¤ë¦„ì°¨ìˆœì´ ìœ ì§€ë˜ë¯€ë¡œ ê·¸ëŒ€ë¡œ ë„£ëŠ”ë‹¤. 

### ì´ê²Œ ì™œ í•„ìš”í•¨? :thinking:

ê°€ë ¹ ë¬¸ì œì—ì„œ ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ì•ˆì˜ ìµœì†Œê°’ í˜¹ì€ ìµœëŒ€ê°’ì„ êµ¬í•˜ë¼ëŠ” ìš”êµ¬ì‚¬í•­ì´ ë‚˜ì˜¬ ê²½ìš° í•„ìš”í•˜ë‹¤. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì“°ëŠ” ê²ƒì´ ì™„ì „ íƒìƒ‰ì˜ ë¹„íš¨ìœ¨ì„ ì¤„ì´ê³ , ìœˆë„ìš°ì˜ ë¨¸ë¦¬ ê°’ê³¼ ê¼¬ë¦¬ê°’ë§Œ ê°±ì‹ í•˜ë©° ì‹œê°„ë³µì¡ë„ë¥¼ ì¤„ì´ê¸° ìœ„í•¨ì¸ë°, ìµœì†Œ í˜¹ì€ ìµœëŒ€ê°’ì„ êµ¬í•˜ê¸° ìœ„í•´ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì™„ì „íƒìƒ‰í•œë‹¤ë©´ í•´ë‹¹ ê¸°ìˆ ì„ ì“°ëŠ” ì˜ë¯¸ê°€ ì—†ë‹¤. 

 ì´ ê²½ìš° `ìŠ¬ë¼ì´ë”© ë‹¨ì¡° í`ë¥¼ í™œìš©í•´ **í˜„ êµ¬ê°„ ë‚´ì˜ ìµœì†Œ í˜¹ì€ ìµœëŒ€ê°’ì„ ë‚¨ê¸´ë‹¤**ë©´ ì›ë˜ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ì™€ ë˜‘ê°™ì´ êµ¬ê°„ì˜ ë¨¸ë¦¬ì™€ ê¼¬ë¦¬ê°’ë§Œ ê°±ì‹ í•´ ë‚˜ê°€ë©° íš¨ìœ¨ì ìœ¼ë¡œ í’€ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. 

ì´ë²ˆ ë¬¸ì œì—ì„œëŠ” <u>ë¡¤ëŸ¬ê°€ ì¹ í•˜ë ¤ëŠ” êµ¬ê°„ ë‚´ì˜ ìš¸íƒ€ë¦¬ ì¤‘ ìµœì†Œ ë†’ì´</u>ì¸ ê²ƒì„ êµ¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆë‹¤. ë‹¨ì¡°íë¥¼ ë¹„ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤ë©´, í˜„ êµ¬ê°„ ë‚´ì˜ ìµœì†Œ ë†’ì´ê°€ ë¬´ì—‡ì¸ì§€ ì•Œ ìˆ˜ ìˆë‹¤. ì´ì œ ì‚¬ì „ ì§€ì‹ì„ ê³µë¶€ í–ˆìœ¼ë‹ˆ, ë¬¸ì œë¥¼ ë³¸ê²©ì ìœ¼ë¡œ í’€ì–´ë³´ê² ë‹¤.

## (2) ì¹ í•œ ë¶€ë¶„ì€ ë‹¤ì‹œ ì¹ í•  ìˆ˜ ìˆë‹¤ëŠ” ì¡°ê±´ì€ ì–´ë–»ê²Œ êµ¬í˜„?

> `ê²°ë¡ `: ì‹¤ì œ êµ¬í˜„ì€ ìƒ‰ì¹ ì´ ì¤‘ë³µë˜ì§€ ì•Šê²Œ í•˜ê³ , í˜„ì¬ ì¡°íšŒ ì¤‘ì¸ ìš¸íƒ€ë¦¬ê°€ ì¤‘ë³µ ìƒ‰ì¹ ë  ê²ƒ ê°™ìœ¼ë©´ ì¹ í•˜ì§€ ì•Šê³  ê·¸ ì´ì „ ìš¸íƒ€ë¦¬ë“¤ë§Œ ìƒ‰ì¹ í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰

  í•´ë‹¹ ë¬¸ì œì—ì„œ ê°€ì¥ ë¬¸ì œê°€ ë˜ëŠ” ê²ƒì€ í•œë²ˆ ë¡¤ëŸ¬ë¡œ ì¹ í–ˆë”ë¼ë„ ë‹¤ìŒ êµ¬ê°„ì—ì„œ ë” ì¹  í•  ìˆ˜ ìˆë‹¤ë©´, ë§ì¹ ì´ ê°€ëŠ¥í•˜ëŠ” ì ì´ë‹¤. ë°‘ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë§ì´ë‹¤.

![image-20241224231002260](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241224231002260.png)

`ì „ì²´ ìš¸íƒ€ë¦¬ ë„ˆë¹„ - ìƒ‰ì¹ í•œ ë¶€ë¶„`ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ë ¤ë˜ ì…ì¥ì—ì„œ ì´ëŸ¬í•œ ì¤‘ë³µëœ ìƒ‰ì¹ ì€ ê³„ì‚°ì„ ë³µì¡í•˜ê²Œ ë§Œë“ ë‹¤. ê·¸ë˜ì„œ êµ¬ê¸€ë§ í•˜ë©° ì°¾ì•„ë‚¸ ë°©ë²•ì€ **ë§ì¹ í•˜ê¸° ì§ì „ê¹Œì§€ë§Œ ì¹ í•˜ê³  ë‹¤ìŒ êµ¬ê°„ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ê²ƒ**ì´ë‹¤. ì´ëŸ¬ë©´ ì¤‘ë³µì´ ì—†ë‹¤. ê·¸ë ‡ë‹¤ë©´ ë‹¤ìŒ êµ¬ê°„ì—ì„œ ë§ì¹ ì´ ë ì§€ ì•ˆë ì§€ë¥¼ ì–´ë–»ê²Œ íŒë‹¨í•  ê²ƒì¸ê°€? ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

"**êµ¬ê°„ì„ ì˜®ê²¼ì„ ë•Œ, êµ¬ê°„ ë‚´ ìµœì†Œê°’ì´ ë³€í•˜ë©´, ë°”ë€ êµ¬ê°„ë¶€í„°ëŠ” ì–´ì§œí”¼ ìƒˆë¡œìš´ ìµœì†Œ ë†’ì´ë¡œ ë‹¤ì‹œ ì¹ í•´ì•¼í•˜ë¯€ë¡œ ì¹ í•˜ì§€ ì•ŠëŠ”ë‹¤.**" 

ë‹¬ë¦¬ ë§í•˜ë©´, "**êµ¬ê°„ì„ ì˜®ê²¼ì„ ë–„, êµ¬ê°„ ë‚´ ìµœì†Œê°’ì´ ë³€í•˜ë©´, ì´ì „ ì¹ í•˜ì§€ ì•Šì€ ë¶€ë¶„ì˜ ì‹œì‘ì  ~ í˜„ êµ¬ê°„ ì§ì „ê¹Œì§€ ì´ì „ ìµœì†Œ ë†’ì´ë¡œ ì¹ í•œë‹¤.**" ë¼ëŠ” ë§ì´ ëœë‹¤. ë§ë¡œ í•˜ë©´ í—·ê°ˆë¦¬ë‹ˆ ê·¸ë¦¼ìœ¼ë¡œ ì„¤ëª…í•˜ê² ë‹¤.

![image-20241225000053041](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225000053041.png)

ë‹¤ìŒê³¼ ê°™ì€ ì˜ˆì œê°€ ì¡´ì¬í•œë‹¤ê³  í•  ë•Œ, ìµœì´ˆ êµ¬ê°„ì˜ ì¹ í•  ìˆ˜ ìˆëŠ” ë†’ì´ëŠ” `5`ì¼ ê²ƒì´ë‹¤.

![image-20241225000210660](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225000210660.png)

ìƒ‰ìœ¼ë¡œ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ëŠ” í‘œì‹œ í–ˆì§€ë§Œ ì•„ì§ ì¹ í•˜ì§„ ì•Šì•˜ë‹¤! ì™œëƒí•˜ë©´ êµ¬ê°„ì˜ ìµœì†Œë†’ì´ê°€ ë°”ë€ŒëŠ” ìˆœê°„ì— í•œ ë²ˆì— ì¹ í•´ë²„ë¦¬ë©´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì¼ë‹¨ ë‹¤ìŒ êµ¬ê°„ìœ¼ë¡œ ë„˜ì–´ê°€ì. 

![image-20241225000348200](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225000348200.png)

ì•„ì§ 5ê°€ ìµœì†Œ ë†’ì´ì´ë‹¤. ë˜ ë‹¤ìŒ êµ¬ê°„ìœ¼ë¡œ ë„˜ì–´ê°€ì.

![image-20241225000438008](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225000438008.png)

ì´ì œ ìµœì†Œ ë†’ì´ê°€ 6ì´ ë˜ì—ˆë‹¤! ìµœì†Œ ë†’ì´ê°€ ë°”ë€Œì—ˆìŒìœ¼ë¡œ, ì´í›„ ë¶€í„°ëŠ” 6ìœ¼ë¡œ ë‹¤ì‹œ ì¹ í•´ì•¼í•œë‹¤. ìš°ë¦¬ëŠ” ì¤‘ë³µì„ í”¼í•˜ê¸° ìœ„í•´ index = 2 ì¸ ë¶€ë¶„ì€ ì¹ í•˜ì§€ ì•Šê³ , ì´ì „ì˜ ì¹ í•˜ì§€ ì•Šì€ ë¶€ë¶„ì¸ 0ë¶€í„° 1ê¹Œì§€ë¥¼ ì´ì „ ìµœì†Œ ë†’ì´ì¸ 5ë¡œ ì¹ í•˜ë©´ ëœë‹¤.

![image-20241225000646201](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225000646201.png)

ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ëŠ” ê³„ì† ì§„í–‰í•´ë³´ì. ë‹¤ìŒ êµ¬ê°„ìœ¼ë¡œ ê°”ë”ë‹ˆ ì´ë²ˆì—” ë°”ë¡œ ë†’ì´ê°€ 4ë¡œ ë°”ë€Œì—ˆë‹¤. ì´ëŸ¬ë©´ ì•„ì§ ì¹ í•˜ì§€ ì•Šì€ ì‹œì‘ì ì¸ index = 2ë¶€í„° ìµœì†Œ ë†’ì´ê°€ ë°”ë€Œê¸° ì§ì „ index = 4ê¹Œì§€ 6ìœ¼ë¡œ ì¹ í•˜ë©´ ëœë‹¤. 

![image-20241225000858115](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225000858115.png)

ì´ëŸ°ì‹ìœ¼ë¡œ ìœˆë„ìš°ë¥¼ ê³„ì† ì›€ì§ì´ë©´, ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ìµœëŒ€í•œ ì¹ í•  ìˆ˜ ìˆë‹¤.

![image-20241225001103277](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225001103277.png)

ê·¸ëŸ¼ ì´ì œ ë‹¤ìŒê³¼ ê°™ì€ ê¶ê¸ˆì¦ì´ ìƒê¸¸ ê²ƒì´ë‹¤.

## (3) êµ¬ê°„ì˜ ìµœì†Œ ë†’ì´ê°€ ë°”ë€ŒëŠ” ì‹œì ì€ ì–¸ì œì¼ê¹Œ?

2ê°€ì§€ ìˆœê°„ì´ ìˆë‹¤.

a. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì˜®ê²¼ì„ ë•Œ, ì‹ ê·œ ì‚½ì…ê°’ì´ ìµœì†Œê°’ì´ ë˜ëŠ” ê²½ìš° (ìµœì†Œê°’ì´ ì‘ì•„ì§)
b. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì˜®ê²¼ì„ ë•Œ, ìµœì¢Œë‹¨ ê°’ì´ ì‚­ì œë˜ì–´ 2ë²ˆì§¸ë¡œ ì‘ë˜ ê°’ì´ ìµœì†Œê°‘ì´ ë˜ëŠ” ê²½ìš° (ìµœì†Œê°’ì´ ì»¤ì§)

ìœ„ì˜ ì˜ˆì‹œì—ì„œ ì²«ë²ˆì§¸ ìƒ‰ì¹ í•˜ë˜ ìˆœê°„ì´ bì— í•´ë‹¹í•˜ê³ , ë‘ ë²ˆì§¸ ìƒ‰ì¹ í•˜ë˜ ìˆœê°„ì´ aì— í•´ë‹¹í•œë‹¤. ìœ„ì™€ ê°™ì€ ìˆœê°„ì´ ì˜¤ë©´ (ì´ì „ì— ìƒ‰ì¹ í•˜ì§€ ì•Šì€ ë¶€ë¶„ì˜ ê¸¸ì´) * (ì´ì „ ìµœì†Œ ë†’ì´) ë¡œ ìƒ‰ì¹ í•œ ë¶€ë¶„ì„ êµ¬í•˜ë©´ ëœë‹¤.

## (4) ë¡¤ì§ˆí•œ íšŸìˆ˜ êµ¬í•˜ê¸°

ìµœì†Œ ë†’ì´ê°€ Xë„ˆë¹„ ì´ìƒ ê°™ì€ ê²½ìš° ì–´ë–¤ê°€? 

![image-20241225002521818](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225002521818.png)

ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°, index = 5ì˜ 4ë¥¼ ë§Œë‚˜ 0~4ê¹Œì§€ ìš¸íƒ€ë¦¬ê°€ ë†’ì´ 3ìœ¼ë¡œ ì¹ í•´ì§ˆ ê²ƒì´ë‹¤. ë£°ëŸ¬ì˜ ë„ˆë¹„ê°€ 3ì„ìœ¼ë¡œ `2`ë²ˆ ì¹ í•˜ê²Œ ë  ê²ƒì´ë‹¤. ì´ì²˜ëŸ¼ ìµœì†Œ ë†’ì´ê°€ ê°™ì€ êµ¬ê°„ì´ 0~Xì˜ ê¸¸ì´ì¼ ë•ŒëŠ” ë¡¤ì§ˆ 1ë²ˆ, X+1 ~ 2Xì˜ ê¸¸ì´ì¼ ë•ŒëŠ” ë¡¤ì§ˆ 2ë²ˆ ... ì´ëŸ° ì‹ìœ¼ë¡œ ê·œì¹™ì„±ì´ ìƒê¸¸ ê²ƒì´ë‹¤. ë”°ë¼ì„œ ìƒ‰ì¹ í•´ì•¼í•˜ëŠ” êµ¬ê°„ì˜ ê¸¸ì´ë¥¼ Nìœ¼ë¡œ ë‚˜ëˆ„ì—ˆì„ ë•Œ ëª« + 1ë¡œ í•˜ë©´ ê³„ì‚°ì´ í¸í•  ê²ƒì´ë‹¤. ê³„ì‚° ì‹ìœ¼ë¡œ í•˜ë©´ 

\[ \frac{ìƒ‰ì¹ í•´ì•¼ í•˜ëŠ” ê¸¸ì´ - 1}{N} + 1\]

ì´ë‹¤.

### ì–´? ê·¼ë° ì™œ ìƒ‰ì¹ í•´ì•¼ í•˜ëŠ” ê¸¸ì´ì— -1ì„ í•´ì¤„ê¹Œ? 

ì´ìœ ëŠ” -1ì„ ì•ˆí•´ì£¼ê²Œ ë˜ë©´ **ë‚˜ëˆ—ì…ˆì´ ë”± ë§ì•„ë–¨ì–´ì§€ëŠ” ìˆœê°„** ë˜í•œ ì œëŒ€ë¡œ ê³„ì‚°í•˜ê¸° ìœ„í•´ì„œ ì´ë‹¤. ë§Œì•½ ì¹ í•´ì•¼í•˜ëŠ” ë¶€ë¶„ì˜ ê¸¸ì´ê°€ Xë¼ë©´ ë¡¤ì§ˆì„ í•œ ë²ˆë§Œ í•˜ë©´ ë˜ì§€ë§Œ, ë‚˜ëˆ—ì…ˆ + 1ë¡œ ê³„ì‚° ì‹œì—ëŠ” 2ë²ˆìœ¼ë¡œ ëœë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, ë¶„ìì— -1ì„ í•´ì£¼ì–´ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” ê²½ìš°ë„ **ì¼ë¶€ëŸ¬** ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ì§€ ì•Šê²Œ ë§Œë“ ë‹¤.

## (5) ì˜ˆì™¸ ì²˜ë¦¬: ëª¨ë“  ìš¸íƒ€ë¦¬ ë†’ì´ê°€ ê°™ì„ ë•Œ

ìš°ë¦¬ëŠ” ìµœì†Œë†’ì´ê°€ ë°”ë€ŒëŠ” ì‹œì ì„ ê¸°ì¤€ìœ¼ë¡œ ì½”ë“œë¥¼ ì§°ìŒìœ¼ë¡œ ëª¨ë“  ìš¸íƒ€ë¦¬ ë†’ì´ê°€ ê°™ì„ ê²½ìš°ë¥¼ ì˜ˆì™¸ì²˜ë¦¬ í•´ì¤˜ì•¼ í•œë‹¤. ìš°ë¦¬ëŠ” ë†’ì´ ë°°ì—´ì˜ ë§¨ ëì— 0ì„ í•˜ë‚˜ ì¶”ê°€í•œë‹¤. ì´ëŸ¬ë©´, ë§¨ ë§ˆì§€ë§‰ì—ëŠ” ë¬´ì¡°ê±´ 0ì„ ë§Œë‚˜ì„œ ê·¸ ì „ê¹Œì§€ ì•ˆ ì¹ í•´ì§„ ë¶€ë¶„ì„ ì „ë¶€ ë§ˆì§€ë§‰ ë†’ì´ë¡œ ì¹ í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.
![image-20241225003804158](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225003804158.png)

## (6) ì½”ë“œì˜ í° íë¦„

1. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ë‹¨ì¡° íë¡œ êµ¬í˜„ í›„ ë§¨ ì²˜ìŒ êµ¬ê°„ì˜ ê°’ì— ëŒ€í•œ ê³„ì‚°ì„ í•œë‹¤. (ì´ˆê¸° ì„¸íŒ…)
   (í•´ë‹¹ ë¶€ë¶„ì„ ë¯¸ë¦¬ ê³„ì‚°í•´ì•¼ ë‹¤ìŒë¶€í„° í•œ ì¹¸ì”© ì›€ì§ì´ëŠ” ê³„ì‚°ì„ í•  ìˆ˜ ìˆë‹¤.)
2. ìµœì´ˆ êµ¬ê°„ì˜ ìµœì†Œ ë†’ì´, ì•ˆ ì¹ í•´ì§„ ë¶€ë¶„ì˜ ì‹œì‘ì  ë³€ìˆ˜, ë¡¤ì§ˆ íšŸìˆ˜ ë³€ìˆ˜, ì „ì²´ ìš¸íƒ€ë¦¬ ë„ˆë¹„(ëˆ„ì í•©)ì„ êµ¬í•œë‹¤.
3. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ í•œ ì¹¸ì”© ì›€ì§ì¸ë‹¤.
   - ì‹ ê·œê°’ì„ ì‚½ì…í•˜ê³ , ìµœì†Œ ë†’ì´ê°€ ë°”ë€Œì—ˆëŠ”ì§€ ì²´í¬í•œë‹¤. (ë°”ë€Œì—ˆì„ ì‹œ, ìƒ‰ì¹  ì•ˆëœ ì´ì „ êµ¬ê°„ì˜ ê¸¸ì´ x ì´ì „ ìµœì†Œ ë†’ì´)
   - ìµœì¢Œë‹¨ ê°’ì„ ì‚­ì œí•˜ê³  ìµœì†Œ ë†’ì´ê°€ ë°”ë€Œì—ˆëŠ”ì§€ ì²´í¬í•œë‹¤. (ë°”ë€Œì—ˆì„ ì‹œ, ìœ„ì™€ ê°™ì´ ê³„ì‚°)

# 3. ì½”ë“œ ì†Œê°œ ğŸ”

```java
import java.io.*;
import java.util.*;

public class Main {

    /*
    * b2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬
    * 1. ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ì´ˆê¸°ê°’ ì„¸íŒ… (0~X ì‚¬ì´ ìµœì†Œê°’ì„ deque ë§¨ ìœ„ë¡œ)
    *
    * 2. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì›€ì§ì´ë©° ì‹ ê·œ ê°’ ì‚½ì…ìœ¼ë¡œ êµ¬ê°„ ë‚´ ìµœì†Œê°’ì´ ê°±ì‹ ë˜ì—ˆì„ ê²½ìš°,
    *       ì´ì „ ì•ˆ ì¹  í•œ ê³³ë¶€í„° i-1(ì§ì „)ìœ„ì¹˜ê¹Œì§€ ì´ì „ ìµœì†Œ ë†’ì´ë¡œ ì¹ í•˜ê¸°
    *
    * 3. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì›€ì§ì´ë©°, ìµœì†Œê°’ì´ êµ¬ê°„ì„ ë²—ì–´ë‚˜ë©´ì„œ ìµœì†Œê°’ì´ ê°±ì‹ ë˜ì—ˆì„ ê²½ìš°,
    *       ì´ì „ ì•ˆ ì¹  í•œ ê³³ë¶€í„°, êµ¬ê°„ì— ë²—ì–´ë‚œ í•´ë‹¹ ê°’ê¹Œì§€ ìµœì†Œ ë†’ì´ë¡œ ì¹ í•˜ê¸°
    *
    * 4. ìµœì†Œë†’ì´ê°€ êµ¬ê°„ì„ ì—¬ëŸ¬ë²ˆ ì›€ì§ì„ì—ë„ ê°±ì‹ ë˜ì§€ ì•ŠëŠ” ê²½ìš°ì— ëŒ€í•œ ì˜ˆì™¸ì²˜ë¦¬
    *       (n=12, x=4, 3333 3333 3333) -> ê°±ì‹ ì•ˆëœ ê¸¸ì´/x + 1 = ë¡¤ëŸ¬ì§ˆ í•œ íšŸìˆ˜
    * */

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        int N = Integer.parseInt(st.nextToken());
        int X = Integer.parseInt(st.nextToken());
        int [] values = new int [N+1];
        ArrayDeque<Fence> adq = new ArrayDeque<>(); // ìŠ¬ë¼ì´ë”© ìœˆë„ìš° -> í˜„ì¬ ë¡¤ëŸ¬ê°€ ì›€ì§ì¼ êµ¬ê°„
        long area = 0;
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < N; i++) {
            values[i] = Integer.parseInt(st.nextToken());
            area += values[i];
        }

        // 1. ì´ˆê¸° ì„¸íŒ… -> ìŠ¬ë¼ì´ë”© ìœˆë„ìš° êµ¬ê°„ë‚´ ê°’ë“¤ ì¤‘ ìœ íš¨í•œ ê°’ì„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ìœ ì§€
        //                  (ìœ íš¨í•œ ê°’ = êµ¬ê°„ ë‚´ ìµœì†Œë†’ì´ê°€ ë  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê°’)
        for (int i = 0; i < X; i++) {
            Fence now = new Fence(i, values[i]);
            while (!adq.isEmpty() && adq.peekLast().v > now.v) adq.pollLast();
            adq.add(now);
        }
//        for(Fence temp : adq){
//            System.out.print(temp.v+" ");
//        }
//        System.out.println();

        // 2. ê³„ì‚°
        int recent_height = adq.peek().v;  // ë§ˆì§€ë§‰ìœ¼ë¡œ ìš¸íƒ€ë¦¬ ì¹ í•œ í›„, ê°±ì‹ í•œ í ë‚´ ìµœì†Œë†’ì´
        int roller_cnt = 0;     // ë¡¤ëŸ¬ì§ˆí•œ íšŸìˆ˜
        int idx = 0;            // ë§ˆì§€ë§‰ìœ¼ë¡œ ìš¸íƒ€ë¦¬ ì¹ í•œ í›„, ê°±ì‹ í•œ ì•ˆ ì¹ í•œ ë¶€ë¶„ì˜ ì‹œì‘ì 

        for (int i = X; i <= N; i++) {
//            System.out.printf("ê³„ì‚° ì „--AREA: %d, ROLLER_CNT: %d recent-height: %d, idx: %d --"
//                + "í˜„ì¬ index: %d\n",area,roller_cnt, recent_height, idx, i);
            Fence now = new Fence(i, values[i]);
            while (!adq.isEmpty() && adq.peekLast().v > now.v) adq.pollLast();
            adq.add(now);

//            for(Fence temp : adq){
//                System.out.print(temp.v+" ");
//            }
//            System.out.println();

            if(!adq.isEmpty() && adq.peek().v != recent_height){
                roller_cnt += (i-1-idx)/X + 1;
                area -= (long) (i - idx) *recent_height;
//                System.out.printf("(2)ì‹ ê·œ ê°’ ì‚½ì…í•˜ë©° ìµœì†Œê°’ ê°±ì‹  -- ë¹ ì ¸ ë‚˜ê°€ëŠ” ê°’: %d \n", (i-idx)*recent_height);
                recent_height = adq.peek().v;
                idx = i;

            }

            if(!adq.isEmpty() && adq.peek().i <= i-X){
                Fence past = adq.poll();
                if(!adq.isEmpty() && adq.peek().v != past.v){
                    roller_cnt += (past.i - idx)/X + 1;
                    area -= (long) (past.i - idx + 1) * recent_height;
//                    System.out.printf("(3)ìµœì¢Œë‹¨ ì‚­ì œí•˜ë©° ìµœì†Œê°’ ê°±ì‹  -- ë¹ ì ¸ ë‚˜ê°€ëŠ” ê°’: %d \n", (past.i - idx + 1)*recent_height);
                    recent_height = adq.peek().v;
                    idx = past.i + 1;
                }
            }
        }
        System.out.println(area);
        System.out.println(roller_cnt);
    }
}

class Fence {
    int i;
    int v;

    public Fence(int i, int v){
        this.i = i;
        this.v = v;
    }
}
```

ì½”ë“œë¥¼ ë³´ë©´ ìƒ‰ì¹ ì´ ì•ˆëœ êµ¬ê°„ì˜ ê¸¸ì´ë¥¼ êµ¬í•  ë•Œ, ì‹ ê·œ ê°’ ì‚½ì… ì‹œì™€ ì œì¼ ì˜¤ë˜ëœ ê°’ ì‚­ì œ ì‹œì˜ ê³„ì‚°ì´ ë‹¤ë¥´ë‹¤.
 ì‹ ê·œ ê°’ ì‚½ì…ìœ¼ë¡œ ì¸í•´ ìµœì†Œê°’ì´ ë³€ê²½ëœ ê²½ìš°, ìµœì†Œê°’ì´ ë‹¨ì¡°íì˜ frontì— ìœ„ì¹˜í•  ê²ƒì´ë‹¤. ìš°ë¦¬ëŠ” ì‹œì‘ì ë¶€í„° í•´ë‹¹ ìµœì†Œë†’ì´ë¥¼ ë§Œë‚˜ê¸° ì´ì „ê¹Œì§€ì˜ ê¸¸ì´ë¥¼ êµ¬í•˜ë©´ ë˜ë¯€ë¡œ, ìµœì†Œê°’ì˜ indexì¸ iì˜ ì§ì „ì¸ i-1ê¹Œì§€ì˜ ê¸¸ì´ë¥¼ ê³„ì‚°í•˜ë©´ ëœë‹¤.
  ì‚­ì œ í›„ ìµœì†Œê°’ì´ ë³€ê²½ëœ ê²½ìš°, ìµœì†Œ ë†’ì´ê°€ ëœ ë‹¨ì¡° íì˜ frontì˜ indexê°€ ìƒ‰ì¹ í•´ì•¼í•˜ëŠ” ë²”ìœ„ì˜ ì§í›„ indexë¼ê³  ë³´ì¥í•˜ê¸° ì–´ë µë‹¤.

![image-20241225004656092](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225004656092.png)

í•´ë‹¹ 6,7,8 êµ¬ê°„ì— ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ê°€ ì¡´ì¬í•œë‹¤ë©´, ìµœì†Œ ë†’ì´ëŠ” 4ì´ë‹¤. í•œì¹¸ ì›€ì§ì—¬ë³´ë©´, 
![image-20241225004733467](../../../../../Documents/GitHub/dalcheonroadhead-github-blog/dalcheonroadhead.github.io/images/[ë°±ì¤€] 2905 í™ì¤€ì´ì™€ ìš¸íƒ€ë¦¬/image-20241225004733467.png)

ìµœì†Œ ë†’ì´ê°€ 6ì´ë‹¤. í•˜ì§€ë§Œ 6ì€ 4ì˜ ë°”ë¡œ ì§í›„ indexê°€ ì•„ë‹˜ì„ ì•Œ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì´ì „ ìµœì†Œë†’ì´ì˜ indexë¥¼ í¬í•¨í•˜ì—¬ ìƒ‰ì¹ í•´ì•¼í•  ê¸¸ì´ë¥¼ ì¸¡ì •í•œë‹¤.

# 4. ë°°ìš´ ê²ƒë“¤ ğŸ¯

"ì¤‘ë³µí•´ì„œ ìƒ‰ì¹ í•  ìˆ˜ ìˆë‹¤."ë¼ëŠ” ì¡°ê±´ì´ ë„˜ ì–´ë ¤ì›Œì„œ ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´ë¥¼ ê³µë¶€í•œ ë’¤ ë‹¤ì‹œ ìŠ¤ìŠ¤ë¡œ ë¬¸ì œë¥¼ í’€ì–´ë³´ì•˜ë‹¤. í•´ë‹¹ í’€ì´ ì½”ë“œê°€ C++ì´ë¼ ë‚´ ê²ƒìœ¼ë¡œ ë‚´ì¬í™” í•˜ëŠ”ë° ì‹œê°„ì´ ì¢€ ê±¸ë ¸ë‹¤. ë‹¤ìŒì€ ë‚´ê°€ ì°¸ê³ í–ˆë˜ ê°ì‚¬í•œ ë¸”ë¡œê·¸ ë“¤ì´ë‹¤.





https://jaimemin.tistory.com/832



https://mingmeng030.tistory.com/63

