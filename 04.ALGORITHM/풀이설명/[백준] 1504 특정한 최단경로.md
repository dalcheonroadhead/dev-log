# 1. ë¬¸ì œ ì„¤ëª… ğŸ“Œ

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/1504)

ì •ì  1 âœ ì •ì  Nìœ¼ë¡œ ê°ˆ ê±´ë°, ì´ ë‘˜ ì‚¬ì´ì— íŠ¹ì •í•œ ì •ì  `A`, `B`ë¥¼ ê¼­ ê±°ì³ì•¼ í•œë‹¤. ì´ **íŠ¹ì •í•œ ì •ì  2ê°œë¥¼ ê¼­ ê±°ì¹˜ë©´ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ìµœë‹¨ ê²½ë¡œì˜ ë¹„ìš©**ì„ êµ¬í•˜ì—¬ë¼ 

# 2. êµ¬í˜„ ë°©ë²• ğŸ—ƒï¸

**`KEY WORD`: `DIJKSTRA`**

íŠ¹ì • ì •ì  `A`,`B`ë¥¼ ê¼­ ê±°ì¹˜ë©´ì„œ, 1 âœ N ê¹Œì§€ ê°€ëŠ” ìµœë‹¨ ê²½ë¡œëŠ” ë‹¤ìŒ 2ê°€ì§€ ì¤‘ í•˜ë‚˜ ì¼ ê²ƒì´ë‹¤.

- `1` âœ `A`, `A` âœ `B`, `B` âœ `N` ê°ê°ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•´ì„œ í•©í•œë‹¤.
- `1` âœ `B`, `B` âœ `A`, `A` âœ `N` ê°ê°ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•´ì„œ í•©í•œë‹¤.

ì´ê²Œ **ê°€ëŠ¥í•œ ì´ìœ ëŠ” ëª¨ë“  ê°€ì¤‘ì¹˜ê°€ ì–‘ìˆ˜ì´ê¸° ë•Œë¬¸**ì´ë‹¤.  `A`,`B`ë¡œ ê°€ëŠ” ë¶€ë¶„ì ì¸ ìµœë‹¨ ê²½ë¡œì—ì„œ ë²—ì–´ë‚˜ëŠ” ì •ì ì„ ë°©ë¬¸í•˜ëŠ” ê²ƒ ìì²´ê°€ ë¹„ìš©ì„ ëŠ˜ë¦´ ë¿ ë„ì›€ë˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ê°ê° ë¶€ë¶„ì ì¸ ìµœë‹¨ ê²½ë¡œì˜ í•©ì´ ê³§ ì „ì²´ ìµœë‹¨ ê²½ë¡œê°€ ë  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ **`1`, `A`, `B` ê°ê°ì„ ì¶œë°œì ìœ¼ë¡œ ì¡ê³  ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ ì§„í–‰í•˜ì—¬ ì €ê¸°ì„œ ì œì‹œëœ ë¶€ë¶„ì ì¸ ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ëŠ”ë‹¤.**

- 0ï¸âƒ£ ìµœë‹¨ ê±°ë¦¬ ë°°ì—´ 3ê°œ(ê°ê° `dist[0], dist[1], dist[2]`) ë§Œë“¤ê¸°, ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
- 1ï¸âƒ£ `1`,`A`,`B`ë¥¼ ì‹œì‘ì ìœ¼ë¡œ **`ë‹¤ìµìŠ¤íŠ¸ë¼`**ë¥¼ ëŒë ¤ì„œ ê°ê°ì˜ ìµœë‹¨ ê±°ë¦¬ ë°°ì—´ì„ ì™„ì„± ì‹œí‚¨ë‹¤.
- 2ï¸âƒ£ ìœ„ì—ì„œ ì„¤ëª…í•œ ìµœë‹¨ ê²½ë¡œê°€ ë  ìˆ˜ ìˆëŠ” í›„ë³´ì§€ 2ê°œ(ì´í•˜ ans1, ans2) ë¥¼ ì™„ì„±ì‹œí‚¨ë‹¤. (longìœ¼ë¡œ ë§Œë“ ë‹¤.)
- 3ï¸âƒ£ ë§Œì•½ í›„ë³´ì§€ì˜ ë‹µì´ `Integer.MAX_VALUE`ë¥¼ ë„˜ëŠ”ë‹¤ë©´, ë¶€ë¶„ì ì¸ ê²½ë¡œ ì¤‘ ìµœì†Œ í•œ ê³³ì€ ê·¸ ì‚¬ì´ì— ê²½ë¡œê°€ ì—†ì–´ì„œ ë„ë‹¬í•  ìˆ˜ ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤. 
- 4ï¸âƒ£ë§Œì•½ í›„ë³´ì§€ ë‘˜ ë‹¤ `Integer.MAX_VALUE`ë¥¼ ë„˜ëŠ”ë‹¤ë©´ ë‹µìœ¼ë¡œ `-1`ì„ ì¶œë ¥í•œë‹¤.
- 5ï¸âƒ£ì•„ë‹ˆë©´ ë‘˜ ì‚¬ì´ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ì¶œë ¥í•œë‹¤.

## (1) ì‹œê°„ë³µì¡ë„ ë¶„ì„ ğŸ•“

ì •ì ì˜ ê°œìˆ˜ë¥¼ `N`, ê°„ì„ ì˜ ê°œìˆ˜ë¥¼ `E`ë¼ê³  í•  ë•Œ, ë‹¤ìµìŠ¤íŠ¸ë¼ 3ë²ˆ ëŒë ¤ì•¼ í•¨.

$O(3 E \log N)$

# 3. ì½”ë“œ ì†Œê°œ ğŸ”

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.PriorityQueue;
import java.util.StringTokenizer;


public class Main {

    static class Node {
        int i;
        int w;

        public Node (int i, int w) {
            this.i = i;
            this.w = w;
        }
    }

    static class Dist {
        int idx;
        int dist;

        public Dist (int idx, int dist) {
            this.idx = idx;
            this.dist = dist;
        }
    }
    static int N, E, A, B;
    static ArrayList<Node>[] lists;
    static int iter = 0;
    static int [][] dists;
    public static void main(String[] args) throws IOException {
        // ì…ë ¥
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st= new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        E = Integer.parseInt(st.nextToken());

        lists = new ArrayList[N + 1];
        dists = new int[3][N + 1];

        for (int i = 1; i <= N; i++) {
            lists[i] = new ArrayList<>();
        }

        for (int i = 0; i < E; i++) {
            st = new StringTokenizer(br.readLine());
            int start = Integer.parseInt(st.nextToken());
            int end = Integer.parseInt(st.nextToken());
            int weight = Integer.parseInt(st.nextToken());
            lists[start].add(new Node(end, weight));
            lists[end].add(new Node(start, weight));
        }
        st = new StringTokenizer(br.readLine());
        A = Integer.parseInt(st.nextToken());
        B = Integer.parseInt(st.nextToken());
        // ê³„ì‚°
        dijkstra(1);
        dijkstra(A);
        dijkstra(B);
        long ans1 = (long)dists[0][A] + (long)dists[1][B] + (long)dists[2][N];
        long ans2 = (long)dists[0][B] + (long)dists[2][A] + (long)dists[1][N];
        // ì¶œë ¥
        System.out.println(Math.min(ans1, ans2) >= Integer.MAX_VALUE? -1 : Math.min(ans1,ans2));
    }

    public static void dijkstra(int start) {
        int [] dist = find_dist(start);
        Arrays.fill(dist, Integer.MAX_VALUE);
        PriorityQueue<Dist> pq = new PriorityQueue<>(Comparator.comparingInt(o -> o.dist));
        dist[start] = 0;
        pq.add(new Dist(start, 0));
        while (!pq.isEmpty()){
            Dist now = pq.poll();
            if(now.dist != dist[now.idx]) continue;
            for (int i = 0; i < lists[now.idx].size(); i++) {
                Node next = lists[now.idx].get(i);
                if(dist[next.i] > dist[now.idx] + next.w) {
                    dist[next.i] = dist[now.idx] + next.w;
                    pq.add(new Dist(next.i, dist[next.i]));
                }
            }
        }
    }
    public static int[] find_dist(int start){
        return dists[iter++];
    }
}
```

# 4. ë°°ìš´ ê²ƒë“¤ ğŸ¯

### 82%ì—ì„œ í‹€ë ¸ë˜ ì´ìœ âœ¨

`A` == `1`ì¸ ê²½ìš°ì™€ `B` == `N`ì¸ ê²½ìš°ë¥¼ ìƒê°í•˜ì§€ ëª»í–ˆë‹¤.  ì²˜ìŒì˜ `find_dist` í•¨ìˆ˜ ëª¨ì–‘ì€ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.

```java
    public static int[] find_dist(int start){
        if(start == 1) return dists[0];
        else if (start == A) return dists[1];
        else return dists[2];
    }
```

ì´ëŸ¬ë©´ `A` == `1`ì´ì—ˆì„ ë•Œ, ì´ë¯¸ ê³„ì‚°ì´ ëë‚œ `dist[0]`ë¥¼ ì´ˆê¸°ê°’ìœ¼ë¡œ ìƒê°í•´ì„œ í•œë²ˆ ë” ê³„ì‚°ì„ í•´ë²„ë ¤ì„œ ë‹µì´ í‹€ì–´ì ¸ ë²„ë¦°ë‹¤.
ì´ë¥¼ ê³ ì¹˜ë‹ˆ í•´ê²° ë˜ì—ˆë‹¤.

### ë‹µ ìë£Œí˜•ì„ `long`ìœ¼ë¡œ ë°”ê¾¸ì–´ì„œ ê°€ë…ì„± ë†’ì´ê¸°

ìœ„ì—ì„œ ì„¤ëª…í–ˆë“¯ì´, ì‚¬ìš©í•´ì•¼í•˜ëŠ” ì •ì ë“¤ ì‚¬ì´ì— ê°„ì„ ì´ ì—†ì–´ì„œ ê°€ì§€ ëª»í•˜ëŠ” ê²½ìš° `Integer.MAX_VALUE`ê°€ ê³„ì‚°ì— ë”í•´ì§„ë‹¤. ì´ë•Œ `ans1`ì´ë‚˜ `ans2`ì˜ ìë£Œí˜•ì´ `int`ì´ë©´ overflowê°€ ë‚˜ì„œ -ê°’ìœ¼ë¡œ ë°”ë€Œê³  ê²°ê³¼ê°€ ì´ìƒí•´ì§„ë‹¤. ê° ì •ì ë“¤ ì‚¬ì´ ê°€ì¤‘ì¹˜ê°€ ì—†ì„ ë•Œ ë§ˆë‹¤ if ì¡°ê±´ì„ ê±¸ì–´ ì²˜ë¦¬í•˜ë ¤ë‹ˆ, ë†“ì¹˜ëŠ” ë¶€ë¶„ë„ ë§ì•˜ê³ , ê°€ë…ì„±ì´ ë–¨ì–´ì¡Œë‹¤. 

```java
        // ì²« ì½”ë“œ
		int ans0 = -1;
        int ans1 = dists[0][A] + dists[1][B] + dists[2][N];
        int ans2 = dists[0][B] + dists[2][A] + dists[1][N];
        if(1 == A){
            ans0 = dists[1][B] + dists[2][N];
            if(B== N){
            ans0 = dists[0][N];
            }
        }else if (B == N) {
            ans0 = dists[0][A] + dists[1][N];
        }else if (dists[0][A] == Integer.MAX_VALUE || dists[2][N] == Integer.MAX_VALUE){
            ans0 = ans2;
            if(dists[0][B] == Integer.MAX_VALUE || dists[1][N] == Integer.MAX_VALUE) {
                ans0 = -1;
            }
        }else if (dists[0][B] == Integer.MAX_VALUE || dists[1][N] == Integer.MAX_VALUE){
            ans0 = ans1;
        }
        System.out.println(ans0);
```



ì´ ë•Œë¬¸ì— í‹€ë ¤ì„œ, `ans1`ê³¼ `ans2`ì˜ ìë£Œí˜•ì„ `long`ìœ¼ë¡œ ë°”ê¾¸ì–´ì„œ ì´í•©ì´ `Integer.MAX_VALUE` ë³´ë‹¤ ë†’ìœ¼ë©´ ê·¸ ì‚¬ì´ ìµœì†Œ í•˜ë‚˜ì˜ êµ¬ê°„ì€ ë„ë‹¬í•  ìˆ˜ ì—†ìŒì„ ì•Œ ìˆ˜ ìˆê²Œ ì½”ë“œë¥¼ ë°”ê¾¸ì–´ ê°€ë…ì„±ì„ ë†’í˜”ë‹¤.

```java
        // ë°”ê¾¼ í›„ ì½”ë“œ
		long ans1 = (long)dists[0][A] + (long)dists[1][B] + (long)dists[2][N];
        long ans2 = (long)dists[0][B] + (long)dists[2][A] + (long)dists[1][N];
        // ì¶œë ¥
        System.out.println(Math.min(ans1, ans2) >= Integer.MAX_VALUE? -1 : Math.min(ans1,ans2));
```



>  ì´ëª¨ì§€ ëª¨ìŒ: ğŸ¤”, âœ âœ¨ 0ï¸âƒ£1ï¸âƒ£2ï¸âƒ£3ï¸âƒ£4ï¸âƒ£5ï¸âƒ£6ï¸âƒ£7ï¸âƒ£8ï¸âƒ£9ï¸âƒ£ğŸ”Ÿ